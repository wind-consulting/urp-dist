"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[167],{38167:(Xl,Ft,w)=>{w.r(Ft),w.d(Ft,{DashLeaveModule:()=>ye});var h=w(36895),e=w(94650),Wt=w(30430),ie=w(30144),k=w(24006),_=w(30671),Bn=w(2274),Un=w(44223),re=w(18998),we=w(34698),$=w(65938),zt=w(3238),ee=w(99602),oe=w(59549),nt=w(284),Jn=w(84385),Ie=w(97392),Bt=w(10266),Pe=w(98739);const qn=["leavePaginator"];function Qn(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," # "),e.qZA())}function $n(n,a){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=a.index;e.xp6(1),e.hij(" ",t+1," ")}}function Gn(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," Collaborateur "),e.qZA())}function jn(n,a){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.collaborateurName," ")}}function Xn(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," Date de d\xe9but "),e.qZA())}function Kn(n,a){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.start_date,"dd/MM/yyyy")," ")}}function ea(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," Date de fin "),e.qZA())}function ta(n,a){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.end_date,"dd/MM/yyyy")," ")}}function na(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," Status "),e.qZA())}function aa(n,a){1&n&&(e.TgZ(0,"span",60),e._uU(1,"En Attente"),e.qZA())}function ia(n,a){1&n&&(e.TgZ(0,"span",61),e._uU(1," Accept\xe9"),e.qZA())}function ra(n,a){1&n&&(e.TgZ(0,"span",62),e._uU(1," Partiellement accept\xe9"),e.qZA())}function oa(n,a){1&n&&(e.TgZ(0,"span",63),e._uU(1,"R\xe9fus\xe9"),e.qZA())}function sa(n,a){if(1&n&&(e.TgZ(0,"td",55),e.YNc(1,aa,2,0,"span",56),e.YNc(2,ia,2,0,"span",57),e.YNc(3,ra,2,0,"span",58),e.YNc(4,oa,2,0,"span",59),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","PENDING"===t.status),e.xp6(1),e.Q6J("ngIf","APPROVED"===t.status),e.xp6(1),e.Q6J("ngIf","PARTIALLY_APPROVED"==t.status),e.xp6(1),e.Q6J("ngIf","DENIED"===t.status)}}function la(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," Type "),e.qZA())}function da(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Cong\xe9 Pay\xe9 "),e.qZA())}function ca(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1," Cong\xe9 de Maladie "),e.qZA())}function ua(n,a){if(1&n&&(e.TgZ(0,"td",55),e.YNc(1,da,2,0,"div",51),e.YNc(2,ca,2,0,"div",51),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","PAYED_LEAVE"===t.leave.type),e.xp6(1),e.Q6J("ngIf","SICK_LEAVE"===t.leave.type)}}function ma(n,a){if(1&n&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.leave.type," ")}}function pa(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," Raison "),e.qZA())}function ha(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",55)(1,"mat-icon",64),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openReasonDialog(o.reason))}),e._uU(2,"event_note"),e.qZA()()}}function fa(n,a){1&n&&(e.TgZ(0,"th",54),e._uU(1," Action "),e.qZA())}function va(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,o=e.oxw();return e.KtG(o.openEditDialog(r))}),e._uU(1,"edit"),e.qZA()}}function ga(n,a){1&n&&(e.TgZ(0,"mat-icon",67),e._uU(1,"edit "),e.qZA())}function ya(n,a){if(1&n&&(e.TgZ(0,"td",55),e.YNc(1,va,2,0,"mat-icon",65),e.YNc(2,ga,2,0,"mat-icon",66),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","PENDING"===t.status||"PARTIALLY_APPROVED"===t.status),e.xp6(1),e.Q6J("ngIf","PENDING"!==t.status&&"PARTIALLY_APPROVED"!==t.status)}}function _a(n,a){1&n&&e._UZ(0,"tr",68)}function wa(n,a){1&n&&e._UZ(0,"tr",69)}function Ca(n,a){1&n&&(e.TgZ(0,"div")(1,"div",70),e._uU(2," Aucune donn\xe9e disponible dans le tableau"),e.qZA(),e._UZ(3,"hr"),e.qZA())}const Da=function(){return[5,10,20]};class me{constructor(a,t,i){this.leaveService=a,this.sirhService=t,this.dialog=i,this.displayedColumnsCollaborator=["#","Collaborator","Starting_date","Ending_date","Status","Type","Reason","Action"],this.leaves=[],this.searchForm=new k.cw({leave:new k.cw({type:new k.NI(null)}),start_date:new k.NI(null),end_date:new k.NI(null),status:new k.NI(null)})}ngOnInit(){this.getLeaves()}getLeaves(){this.leaveService.getAllLeaveByTenantId().subscribe(a=>{this.leaves=a,this.leaves.forEach(t=>this.sirhService.getCollaboratorByUuid(t.collaborator).subscribe(i=>t.collaborateurName=i.firstname+" "+i.lastname)),this.dataSourceLeaves=new _.by(this.leaves),this.setLeavesPaginator()})}setLeavesPaginator(){this.dataSourceLeaves.paginator=this.leavePaginator}openReasonDialog(a){this.dialog.open(Un.S,{data:{contract:a},width:"25%"}).afterClosed().subscribe(i=>{})}openEditDialog(a){this.dialog.open(Bn.u,{data:{result:a}}).afterClosed().subscribe(i=>{this.leaves.map((r,o)=>{r.uuid===i.uuid&&(this.leaves[o].status=i.status,this.dataSourceLeaves=new _.by(this.leaves),this.setLeavesPaginator())})})}search(a){this.leaveService.filterLeave(this.searchForm.getRawValue()).subscribe(t=>{this.leaves=t,this.leaves.forEach(i=>this.sirhService.getCollaboratorByUuid(i.collaborator).subscribe(r=>i.collaborateurName=r.firstname+" "+r.lastname)),this.dataSourceLeaves=new _.by(this.leaves),this.setLeavesPaginator(),a.reset()})}}me.\u0275fac=function(a){return new(a||me)(e.Y36(re.t),e.Y36(we.G),e.Y36($.uw))},me.\u0275cmp=e.Xpm({type:me,selectors:[["app-leave-list"]],viewQuery:function(a,t){if(1&a&&e.Gf(qn,5),2&a){let i;e.iGM(i=e.CRH())&&(t.leavePaginator=i.first)}},decls:101,vars:13,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"title-1"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-primary-500",3,"svgIcon"],[1,"ml-1","text-black"],[1,"icon-size-5","text-black",3,"svgIcon"],[1,"ml-1","text-secondary"],[1,"flex-auto","p-6","sm:p-10","bg-white"],[1,"w-full"],[1,"title-3","pt-8"],[1,"search-div","mt-7","py-5"],[1,"container","mx-5","px-4"],[3,"formGroup","ngSubmit"],["form","ngForm"],[1,"grid","grid-cols-5","gap-4"],["appearance","outline","subscriptSizing","dynamic","formGroupName","leave",1,"search"],["formControlName","type",1,"search"],["value",""],["value","PAYED_LEAVE"],["value","SICK_LEAVE"],["appearance","outline","subscriptSizing","dynamic",1,"search"],["matInput","","formControlName","start_date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["matInput","","formControlName","end_date",3,"matDatepicker"],["picker2",""],["formControlName","status",1,"search"],["value","APPROVED"],["value","DENIED"],["value","PENDING"],["type","submit",1,"button-yellow","rtl:text-3xl"],[1,"tab","overflow-x-auto"],["mat-table","",1,"overflow-x-auto","w-full",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","","class","text-center ...",4,"matHeaderCellDef"],["mat-cell","","class","text-center ...",4,"matCellDef"],["matColumnDef","Collaborator"],["matColumnDef","Starting_date"],["matColumnDef","Ending_date"],["matColumnDef","Status"],["matColumnDef","Type"],["matColumnDef","Reason"],[1,"md:w-2"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"overflow-x-auto","w-full",3,"pageSizeOptions"],["leavePaginator",""],["mat-header-cell","",1,"text-center","..."],["mat-cell","",1,"text-center","..."],["class","bg-[#CE857E] text-white text-xs font-bold mr-2 px-6  py-1 rounded-full",4,"ngIf"],["class","bg-yellow-400 text-white text-xs font-bold mr-2 px-7 py-1 rounded-full",4,"ngIf"],["class","bg-yellow-500 text-white text-xs font-bold mr-2 px-7 py-1 rounded-full",4,"ngIf"],["class","bg-zinc-900 text-white text-xs font-bold mr-2 px-8 py-1 rounded-full",4,"ngIf"],[1,"bg-[#CE857E]","text-white","text-xs","font-bold","mr-2","px-6","py-1","rounded-full"],[1,"bg-yellow-400","text-white","text-xs","font-bold","mr-2","px-7","py-1","rounded-full"],[1,"bg-yellow-500","text-white","text-xs","font-bold","mr-2","px-7","py-1","rounded-full"],[1,"bg-zinc-900","text-white","text-xs","font-bold","mr-2","px-8","py-1","rounded-full"],["matSuffix","",1,"finger",3,"click"],["class","finger","matSuffix","",3,"click",4,"ngIf"],["class","notAllowed","matTooltip","Demande d\xe9j\xe0 accord\xe9e","matTooltipPosition","left","matSuffix","",4,"ngIf"],["matTooltip","Demande d\xe9j\xe0 accord\xe9e","matTooltipPosition","left","matSuffix","",1,"notAllowed"],["mat-header-row",""],["mat-row",""],[1,"text-center","emptyTable"]],template:function(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5," Absence & Pointage "),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"div",5)(8,"div")(9,"a",6),e._uU(10," Accueil "),e.qZA()(),e.TgZ(11,"div",7),e._UZ(12,"mat-icon",8),e.TgZ(13,"span",9),e._uU(14," Absence & Pointage "),e.qZA(),e._UZ(15,"mat-icon",10),e.TgZ(16,"span",11),e._uU(17," Les demandes de cong\xe9s "),e.qZA()()()()(),e.TgZ(18,"div",12)(19,"div",13)(20,"h2",14),e._uU(21," Liste des demandes de cong\xe9 "),e.qZA(),e.TgZ(22,"div",15)(23,"div",16)(24,"form",17,18),e.NdJ("ngSubmit",function(){e.CHM(i);const o=e.MAs(25);return e.KtG(t.search(o))}),e.TgZ(26,"div",19)(27,"mat-form-field",20)(28,"mat-label"),e._uU(29,"Type"),e.qZA(),e.TgZ(30,"mat-select",21)(31,"mat-option",22),e._uU(32," _ "),e.qZA(),e.TgZ(33,"mat-option",23),e._uU(34,"Cong\xe9 Pay\xe9"),e.qZA(),e.TgZ(35,"mat-option",24),e._uU(36,"Cong\xe9 de maladie"),e.qZA()()(),e.TgZ(37,"mat-form-field",25)(38,"mat-label"),e._uU(39,"Date d\xe9but"),e.qZA(),e._UZ(40,"input",26)(41,"mat-datepicker-toggle",27)(42,"mat-datepicker",null,28),e.qZA(),e.TgZ(44,"mat-form-field",25)(45,"mat-label"),e._uU(46,"Date fin "),e.qZA(),e._UZ(47,"input",29)(48,"mat-datepicker-toggle",27)(49,"mat-datepicker",null,30),e.qZA(),e.TgZ(51,"mat-form-field",25)(52,"mat-label"),e._uU(53,"Status"),e.qZA(),e.TgZ(54,"mat-select",31)(55,"mat-option",22),e._uU(56," _ "),e.qZA(),e.TgZ(57,"mat-option",32),e._uU(58,"Accept\xe9"),e.qZA(),e.TgZ(59,"mat-option",33),e._uU(60,"R\xe9fus\xe9"),e.qZA(),e.TgZ(61,"mat-option",34),e._uU(62,"En attente"),e.qZA()()(),e.TgZ(63,"button",35),e._uU(64,"Rechercher"),e.qZA()()()()(),e.TgZ(65,"div",15)(66,"div",16)(67,"div",36)(68,"table",37),e.ynx(69,38),e.YNc(70,Qn,2,0,"th",39),e.YNc(71,$n,2,1,"td",40),e.BQk(),e.ynx(72,41),e.YNc(73,Gn,2,0,"th",39),e.YNc(74,jn,2,1,"td",40),e.BQk(),e.ynx(75,42),e.YNc(76,Xn,2,0,"th",39),e.YNc(77,Kn,3,4,"td",40),e.BQk(),e.ynx(78,43),e.YNc(79,ea,2,0,"th",39),e.YNc(80,ta,3,4,"td",40),e.BQk(),e.ynx(81,44),e.YNc(82,na,2,0,"th",39),e.YNc(83,sa,5,4,"td",40),e.BQk(),e.ynx(84,45),e.YNc(85,la,2,0,"th",39),e.YNc(86,ua,3,2,"td",40),e.YNc(87,ma,2,1,"td",40),e.BQk(),e.ynx(88,46),e.TgZ(89,"div",47),e.YNc(90,pa,2,0,"th",39),e.YNc(91,ha,3,0,"td",40),e.qZA(),e.BQk(),e.ynx(92,48),e.TgZ(93,"div",47),e.YNc(94,fa,2,0,"th",39),e.YNc(95,ya,3,2,"td",40),e.qZA(),e.BQk(),e.YNc(96,_a,1,0,"tr",49),e.YNc(97,wa,1,0,"tr",50),e.qZA(),e.YNc(98,Ca,4,0,"div",51),e._UZ(99,"mat-paginator",52,53),e.qZA()()()()()()}if(2&a){const i=e.MAs(43),r=e.MAs(50);e.xp6(12),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(9),e.Q6J("formGroup",t.searchForm),e.xp6(16),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i),e.xp6(6),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(20),e.Q6J("dataSource",t.dataSourceLeaves),e.xp6(28),e.Q6J("matHeaderRowDef",t.displayedColumnsCollaborator),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumnsCollaborator),e.xp6(1),e.Q6J("ngIf",0===t.leaves.length),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(12,Da))}},dependencies:[h.O5,k._Y,k.Fj,k.JJ,k.JL,k.sg,k.u,k.x0,zt.ey,ee.Mq,ee.hl,ee.nW,oe.KE,oe.hX,oe.R9,nt.Nt,Jn.gD,Ie.Hw,Bt.gM,Pe.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,h.uU]});var W=w(61135);const Ta=["leavePaginator"];function ba(n,a){1&n&&(e.TgZ(0,"th",34),e._uU(1," Nom "),e.qZA())}function xa(n,a){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.collaboratorname," ")}}function Sa(n,a){1&n&&(e.TgZ(0,"th",34),e._uU(1," Solde de cong\xe9s pay\xe9s "),e.qZA())}function Ea(n,a){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.current_payed_leave_credit," ")}}function ka(n,a){1&n&&(e.TgZ(0,"th",34),e._uU(1," Solde de cong\xe9s maladie "),e.qZA())}function Ma(n,a){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.current_sick_leave_credit," ")}}function Aa(n,a){1&n&&(e.TgZ(0,"th",34),e._uU(1," Pr\xe9visualier "),e.qZA())}function Oa(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",35)(1,"img",36),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onselectCollaborator(o.collaborator))}),e.qZA()()}}function La(n,a){1&n&&e._UZ(0,"tr",37)}function Ha(n,a){1&n&&e._UZ(0,"tr",38)}function Za(n,a){1&n&&(e.TgZ(0,"div")(1,"div",39),e._uU(2," Aucune donn\xe9e disponible dans le tableau"),e.qZA(),e._UZ(3,"hr"),e.qZA())}const Ra=function(){return[5,10,20]};class Ce{constructor(a,t,i,r){this.leaveService=a,this.sirhService=t,this.dialog=i,this.router=r,this.displayedColumnsLeaves=["Nom","solde_conge-paye","solde_conge-maladie","Pr\xe9visualier"],this.leaves=[],this.data=[],this.getAllLeaveByCollaboratorFinished=new W.X(null),this.getAllLeaveByCollaboratorFinishedOnSearch=new W.X(null),this.arrayofCollaborator=[],this.collaboratorList=new W.X([]),this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",itemsShowLimit:2,allowSearchFilter:!0},this.collaboratorSearch={firstname:"",lastname:"",departement:"",isdeleted:null,matricule:""}}ngOnInit(){this.getLeaves()}getLeaves(){this.getAllLeaveByCollaboratorFinished.next(!1),this.leaveService.getAllLeaveByCollaborator().subscribe(a=>{a.forEach(i=>{this.leaves.push({collaborator:i.collaborator,collaboratorname:"",current_payed_leave_credit:i.currentPayedLeaveCredit,current_sick_leave_credit:i.currentSickLeaveCredit,rules:i.rules}),this.arrayofCollaborator.push({item_id:i.collaborator,item_text:""})}),this.getAllLeaveByCollaboratorFinished.next(!0),this.getCollaboFirstnameLastname()})}getCollaboFirstnameLastname(){this.getAllLeaveByCollaboratorFinished.subscribe(a=>{if(a){let t=0;this.leaves.forEach((i,r)=>{this.sirhService.getCollaborator(i.collaborator).subscribe(o=>{this.leaves.find(s=>s.collaborator===o.uuid),this.leaves[r].collaboratorname=o.firstname+" "+o.lastname,this.arrayofCollaborator[r].item_text=o.firstname+" "+o.lastname,t++,t===this.leaves.length&&this.collaboratorList.next(this.arrayofCollaborator),this.dataSourceLeaves=new _.by(this.leaves),this.setLeavePaginator()})})}})}setLeavePaginator(){this.dataSourceLeaves.paginator=this.leavePaginator}onselectCollaborator(a){this.router.navigateByUrl(`leave/leave-historique-collab/${a}`)}isValidCollaborator(){if(this.collaboratorSearch.isdeleted=""!==this.collaboratorSearch.isdeleted&&null!==this.collaboratorSearch.isdeleted&&this.collaboratorSearch.isdeleted,""!=this.collaboratorSearch.firstname||""!=this.collaboratorSearch.firstname||""!=this.collaboratorSearch.lastname||""!=this.collaboratorSearch.matricule||""!=this.collaboratorSearch.departement||0!=this.collaboratorSearch.isdeleted)return!0}ChercherCollaborator(){this.isValidCollaborator()?this.sirhService.filterCollaborator(this.collaboratorSearch.firstname.toLowerCase(),this.collaboratorSearch.lastname.toLowerCase(),this.collaboratorSearch.matricule,this.collaboratorSearch.departement,this.collaboratorSearch.isdeleted).subscribe(a=>{0==a.length&&(this.leaves=[],this.dataSourceLeaves=new _.by(this.leaves)),this.getAllLeaveByCollaboratorFinishedOnSearch.next(!1),this.leaves=[],a.forEach(t=>{this.leaveService.getLeaveByCollaborator(t.uuid).subscribe(i=>{this.leaves.push({collaborator:i.collaborator,collaboratorname:"",current_payed_leave_credit:i.current_payed_leave_credit,current_sick_leave_credit:i.current_sick_leave_credit,rules:i.rules}),this.getAllLeaveByCollaboratorFinishedOnSearch.next(!0)})}),this.getCollaboFirstnameLastnameOnSearch()}):(this.leaves=[],this.getLeaves())}getCollaboFirstnameLastnameOnSearch(){this.getAllLeaveByCollaboratorFinishedOnSearch.subscribe(a=>{if(a){let t=0;this.leaves.forEach((i,r)=>{this.sirhService.getCollaborator(i.collaborator).subscribe(o=>{this.leaves.find(s=>s.collaborator===o.uuid),this.leaves[r].collaboratorname=o.firstname+" "+o.lastname,this.arrayofCollaborator[r].item_text=o.firstname+" "+o.lastname,t++,t===this.leaves.length&&this.collaboratorList.next(this.arrayofCollaborator),this.dataSourceLeaves=new _.by(this.leaves)})})}})}}Ce.\u0275fac=function(a){return new(a||Ce)(e.Y36(re.t),e.Y36(we.G),e.Y36($.uw),e.Y36(ie.F0))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["app-leave-solde"]],viewQuery:function(a,t){if(1&a&&e.Gf(Ta,5),2&a){let i;e.iGM(i=e.CRH())&&(t.leavePaginator=i.first)}},decls:60,vars:10,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"title-1"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-primary-500",3,"svgIcon"],[1,"ml-1","text-black"],[1,"icon-size-5","text-black",3,"svgIcon"],[1,"ml-1","text-secondary"],[1,"flex-auto","p-6","sm:p-10","bg-white"],[1,"w-full"],[1,"search-div","mt-7","py-5"],[1,"container","mx-5","px-4"],[1,"grid","xs:grid-cols-6","md:grid-cols-1","lg:grid-cols-6","gap-4"],[1,"grid-cols-2"],["type","text",1,"search",3,"ngModel","ngModelChange"],[1,"button-yellow-search","mt-9",3,"click"],[1,"tab","overflow-x-auto"],["mat-table","",1,"overflow-x-auto","w-full",3,"dataSource"],["matColumnDef","Nom"],["mat-header-cell","","class","text-center ...",4,"matHeaderCellDef"],["mat-cell","","class","text-center ...",4,"matCellDef"],["matColumnDef","solde_conge-paye"],["matColumnDef","solde_conge-maladie"],["matColumnDef","Pr\xe9visualier"],[1,"md:w-2"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"overflow-x-auto","w-full",3,"pageSizeOptions"],["leavePaginator",""],["mat-header-cell","",1,"text-center","..."],["mat-cell","",1,"text-center","..."],["src","./assets/imgs/eye.svg",1,"image-svg","m-auto",3,"click"],["mat-header-row",""],["mat-row",""],[1,"text-center","emptyTable"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5," Solde de cong\xe9s "),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"div",5)(8,"div")(9,"a",6),e._uU(10," Accueil "),e.qZA()(),e.TgZ(11,"div",7),e._UZ(12,"mat-icon",8),e.TgZ(13,"span",9),e._uU(14," Absence & Pointage "),e.qZA(),e._UZ(15,"mat-icon",10),e.TgZ(16,"span",11),e._uU(17," Solde de cong\xe9s "),e.qZA()()()()(),e.TgZ(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"div")(24,"div",17)(25,"div"),e._uU(26," Pr\xe9nom"),e.qZA(),e.TgZ(27,"div")(28,"input",18),e.NdJ("ngModelChange",function(r){return t.collaboratorSearch.firstname=r}),e.qZA()()()(),e.TgZ(29,"div")(30,"div",17)(31,"div"),e._uU(32,"Nom"),e.qZA(),e.TgZ(33,"div")(34,"input",18),e.NdJ("ngModelChange",function(r){return t.collaboratorSearch.lastname=r}),e.qZA()()()(),e.TgZ(35,"div")(36,"button",19),e.NdJ("click",function(){return t.ChercherCollaborator()}),e._uU(37,"Rechercher"),e.qZA()()()()(),e.TgZ(38,"div",14)(39,"div",15)(40,"div",20)(41,"table",21),e.ynx(42,22),e.YNc(43,ba,2,0,"th",23),e.YNc(44,xa,2,1,"td",24),e.BQk(),e.ynx(45,25),e.YNc(46,Sa,2,0,"th",23),e.YNc(47,Ea,2,1,"td",24),e.BQk(),e.ynx(48,26),e.YNc(49,ka,2,0,"th",23),e.YNc(50,Ma,2,1,"td",24),e.BQk(),e.ynx(51,27),e.TgZ(52,"div",28),e.YNc(53,Aa,2,0,"th",23),e.YNc(54,Oa,2,0,"td",24),e.qZA(),e.BQk(),e.YNc(55,La,1,0,"tr",29),e.YNc(56,Ha,1,0,"tr",30),e.qZA(),e.YNc(57,Za,4,0,"div",31),e._UZ(58,"mat-paginator",32,33),e.qZA()()()()()()),2&a&&(e.xp6(12),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(13),e.Q6J("ngModel",t.collaboratorSearch.firstname),e.xp6(6),e.Q6J("ngModel",t.collaboratorSearch.lastname),e.xp6(7),e.Q6J("dataSource",t.dataSourceLeaves),e.xp6(14),e.Q6J("matHeaderRowDef",t.displayedColumnsLeaves),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumnsLeaves),e.xp6(1),e.Q6J("ngIf",0===t.leaves.length),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(9,Ra)))},dependencies:[h.O5,k.Fj,k.JJ,k.On,Ie.Hw,Pe.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk]});var Na=w(15439),Ut=w.n(Na),Ya=w(4859),at=w(6205);const Ia=["chart"];function Pa(n,a){if(1&n&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Va(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"select",19),e.NdJ("change",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.filterWithYear(r))}),e.TgZ(3,"option",20),e._uU(4,"s\xe9lectionner l'ann\xe9e"),e.qZA(),e.YNc(5,Pa,2,2,"option",21),e.qZA()(),e.TgZ(6,"div",22),e._UZ(7,"apx-chart",23),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.allDistinctsYears),e.xp6(2),e.Q6J("series",t.chartOptions.series)("chart",t.chartOptions.chart)("xaxis",t.chartOptions.xaxis)("title",t.chartOptions.title)}}class De{constructor(a,t,i,r,o){this.currentRoute=a,this.leaveService=t,this.sirhService=i,this.router=r,this.route=o,this.isShow=!1,this.approvedLeaveList=[],this.creditHistoryByCollaborator={},this.payedLeaveHistory=[],this.sickLeaveHistory=[],this.allYears=[],this.collaborator={},this.lineChartLabels=[],this.allDistinctsYears=[],this.lineChartOptions={responsive:!0},this.getAllLeaveByCollaboratorFinished=new W.X(null)}ngOnInit(){this.getAllLeaveByCollaborator()}getAllLeaveByCollaborator(){this.currentRoute.params.subscribe(a=>{this.leaveService.getAllLeaveApprovedByCollaborator(a.uuid).subscribe(t=>{this.approvedLeaveList=t,this.getAllLeaveByCollaboratorbyUuid(a.uuid)})})}getAllLeaveByCollaboratorbyUuid(a){this.getAllLeaveByCollaboratorFinished.next(!1),this.leaveService.getAllLeaveByCollaboratorbyUuid(a).subscribe(t=>{this.creditHistoryByCollaborator=t,this.collaborator={collaborator:t.collaborator,collaboratorname:"",current_payed_leave_credit:t.currentSickLeaveCredit,current_sick_leave_credit:t.currentSickLeaveCredit,rules:t.payed_rule};const i=[],r=[],o=[],s=[];t.credit_history.forEach(c=>{s.push(c.year),this.allYears=s,(new Date).getFullYear()===c.year&&(i.push(Ut()(c.month,"M").format("MMMM")),"PAYED_LEAVE"===c.type&&(r.push(c.credit),this.payedLeaveHistory=r),"SICK_LEAVE"===c.type&&(o.push(c.credit),this.sickLeaveHistory=o))});const l=(c,d,u)=>u.indexOf(c)===d;this.lineChartLabels=i.filter(l),this.allDistinctsYears=s.filter(l),this.getAllLeaveByCollaboratorFinished.next(!0)}),this.getCollaboFirstnameLastname()}getCollaboFirstnameLastname(){this.getAllLeaveByCollaboratorFinished.subscribe(a=>{a&&(this.sirhService.getCollaborator(this.collaborator.collaborator).subscribe(t=>{this.collaborator.collaboratorname=t.firstname+" "+t.lastname}),this.getChart())})}getChart(){this.chartOptions={series:[{name:"Cong\xe9s pay\xe9s",type:"bar",data:this.payedLeaveHistory,color:"#1C1C2B"},{name:"Cong\xe9 de maladie",type:"bar",data:this.sickLeaveHistory,color:"#EFCC0B"}],chart:{height:350,type:"bar",stacked:!1,toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:[1,1,4]},xaxis:{categories:["Janvier","F\xe9vrier","Mars","Avril","Mai","juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],min:0,max:this.lineChartLabels.length},legend:{horizontalAlign:"left",offsetX:40}},this.isShow=!0}filterWithYear(a){const t=Number(a.target.value),i=[],r=[],o=[];this.creditHistoryByCollaborator.credit_history.forEach(l=>{t===l.year&&(i.push(Ut()(l.month,"M").format("MMMM")),"PAYED_LEAVE"===l.type&&r.push(l.credit),"SICK_LEAVE"===l.type&&o.push(l.credit))}),this.lineChartLabels=i.filter((l,c,d)=>d.indexOf(l)===c),this.payedLeaveHistory=r,this.sickLeaveHistory=o,this.getChart()}}De.\u0275fac=function(a){return new(a||De)(e.Y36(ie.gz),e.Y36(re.t),e.Y36(we.G),e.Y36(ie.F0),e.Y36(ie.gz))},De.\u0275cmp=e.Xpm({type:De,selectors:[["app-select-collab"]],viewQuery:function(a,t){if(1&a&&e.Gf(Ia,5),2&a){let i;e.iGM(i=e.CRH())&&(t.chart=i.first)}},decls:27,vars:4,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"title-1"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-primary-500",3,"svgIcon"],[1,"ml-1","text-black"],[1,"icon-size-5","text-black",3,"svgIcon"],[1,"ml-1","text-secondary"],[1,"mb-2","mr-3","ml-10"],["mat-stroked-button","","routerLink","/leave/leave-solde"],["svgIcon","mat_outline:arrow_back"],[1,"grid","grid-cols-1","m-auto","justify-center","mt-15"],["class","flex flex-col flex-auto w-200",4,"ngIf"],[1,"flex","flex-col","flex-auto","w-200"],[1,"chart-wrapper","float-right"],["placeholder","2020",3,"change"],["hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto",2,"text-align","center"],[3,"series","chart","xaxis","title"],[3,"value"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5," Historique de cong\xe9 "),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"div",5)(8,"div")(9,"a",6),e._uU(10," Accueil "),e.qZA()(),e.TgZ(11,"div",7),e._UZ(12,"mat-icon",8),e.TgZ(13,"span",9),e._uU(14," Absence & Pointage "),e.qZA(),e._UZ(15,"mat-icon",10),e.TgZ(16,"span",9),e._uU(17," Solde de cong\xe9s "),e.qZA(),e._UZ(18,"mat-icon",10),e.TgZ(19,"span",11),e._uU(20," Historique de cong\xe9 "),e.qZA()()()()(),e.TgZ(21,"div",12)(22,"button",13),e._UZ(23,"mat-icon",14),e._uU(24," Retour "),e.qZA()(),e.TgZ(25,"div",15),e.YNc(26,Va,8,5,"div",16),e.qZA()()),2&a&&(e.xp6(12),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(8),e.Q6J("ngIf",t.isShow))},dependencies:[ie.rH,h.sg,h.O5,k.YN,k.Kr,Ya.lW,Ie.Hw,at.x]});var F=w(77579),pe=w(69751),Fa=w(39646),Jt=w(82805),Wa=w(34986),te=w(82722),it=w(63900),rt=w(68675),Ba=w(30576),I=w(54004),Ja=function(){function n(){}return n.prototype.getAllStyles=function(a){return window.getComputedStyle(a)},n.prototype.getStyle=function(a,t){return this.getAllStyles(a)[t]},n.prototype.isStaticPositioned=function(a){return"static"===(this.getStyle(a,"position")||"static")},n.prototype.offsetParent=function(a){for(var t=a.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(a,t){void 0===t&&(t=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(a,"position"))i={top:(i=a.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var o=this.offsetParent(a);i=this.offset(a,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(a,t){void 0===t&&(t=!0);var i=a.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,o={height:i.height||a.offsetHeight,width:i.width||a.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(a,t,i,r){var o=i.split("-"),s=o[0],l=void 0===s?"top":s,c=o[1],d=void 0===c?"center":c,u=r?this.offset(a,!1):this.position(a,!1),p=this.getAllStyles(t),g=parseFloat(p.marginTop),m=parseFloat(p.marginBottom),y=parseFloat(p.marginLeft),T=parseFloat(p.marginRight),C=0,b=0;switch(l){case"top":C=u.top-(t.offsetHeight+g+m);break;case"bottom":C=u.top+u.height;break;case"left":b=u.left-(t.offsetWidth+y+T);break;case"right":b=u.left+u.width}switch(d){case"top":C=u.top;break;case"bottom":C=u.top+u.height-t.offsetHeight;break;case"left":b=u.left;break;case"right":b=u.left+u.width-t.offsetWidth;break;case"center":"top"===l||"bottom"===l?b=u.left+u.width/2-t.offsetWidth/2:C=u.top+u.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(b)+"px, "+Math.round(C)+"px)";var S=t.getBoundingClientRect(),D=document.documentElement,M=window.innerHeight||D.clientHeight,L=window.innerWidth||D.clientWidth;return S.left>=0&&S.top>=0&&S.right<=L&&S.bottom<=M},n}(),qa=/\s+/,qt=new Ja,B=function(){return B=Object.assign||function(n){for(var a,t=1,i=arguments.length;t<i;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r]);return n},B.apply(this,arguments)},ot=function(n,a,t){if(t||2===arguments.length)for(var o,i=0,r=a.length;i<r;i++)(o||!(i in a))&&(o||(o=Array.prototype.slice.call(a,0,i)),o[i]=a[i]);return n.concat(o||Array.prototype.slice.call(a))},Te=(()=>{return(n=Te||(Te={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",Te;var n})(),$a=[Te.SUNDAY,Te.SATURDAY],ne=86400;function Qt(n,a){var t=a.startDate,r=a.excluded,o=a.precision;if(r.length<1)return 0;for(var l=n.getDay,c=n.addDays,d=(0,n.addSeconds)(t,a.seconds-1),u=l(t),p=l(d),g=0,m=t,y=function(){var T=l(m);r.some(function(C){return C===T})&&(g+=function Ga(n,a){var i=a.day,o=a.dayEnd,s=a.startDate,l=a.endDate,c=n.differenceInSeconds,u=n.startOfDay;if("minutes"===a.precision){if(i===a.dayStart)return c((0,n.endOfDay)(s),s)+1;if(i===o)return c(l,u(l))+1}return ne}(n,{dayStart:u,dayEnd:p,day:T,precision:o,startDate:t,endDate:d})),m=c(m,1)};m<d;)y();return g}function be(n,a){var i=a.periodStart,r=a.periodEnd;return a.events.filter(function(o){return function Ka(n,a){var t=a.event,i=a.periodStart,r=a.periodEnd,o=n.isSameSecond,s=t.start,l=t.end||t.start;return!!(s>i&&s<r||l>i&&l<r||s<i&&l>r||o(s,i)||o(s,r)||o(l,i)||o(l,r))}(n,{event:o,periodStart:i,periodEnd:r})})}function $t(n,a){var t=a.date,i=a.weekendDays,r=void 0===i?$a:i,s=n.isSameDay,l=n.getDay,c=(0,n.startOfDay)(new Date),d=l(t);return{date:t,day:d,isPast:t<c,isToday:s(t,c),isFuture:t>c,isWeekend:r.indexOf(d)>-1}}function dt(n,a){for(var r=a.excluded,o=void 0===r?[]:r,s=a.weekendDays,l=a.viewStart,c=void 0===l?n.startOfWeek(a.viewDate,{weekStartsOn:a.weekStartsOn}):l,d=a.viewEnd,u=void 0===d?n.addDays(c,7):d,p=n.addDays,g=n.getDay,m=[],y=c;y<u;)o.some(function(T){return g(y)===T})||m.push($t(n,{date:y,weekendDays:s})),y=p(y,1);return m}function ti(n,a){var t=a.events,i=void 0===t?[]:t,r=a.excluded,o=void 0===r?[]:r,s=a.precision,l=void 0===s?"days":s,c=a.absolutePositionedEvents,d=void 0!==c&&c,u=a.viewStart,p=a.viewEnd;u=n.startOfDay(u),p=n.endOfDay(p);var g=n.differenceInSeconds,m=n.differenceInDays,y=function ei(n,a){for(var i=a.date2,r=a.excluded,o=a.date1,s=0;o<i;)-1===r.indexOf(n.getDay(o))&&s++,o=n.addDays(o,1);return s}(n,{date1:u,date2:p,excluded:o}),T=m(p,u)+1,C=i.filter(function(D){return D.allDay}).map(function(D){var M=function Xa(n,a){var t=a.event,i=a.startOfWeek,r=a.excluded,o=a.precision,s=n.differenceInDays,l=n.startOfDay,c=n.differenceInSeconds;if(t.start<i)return 0;var d=0;switch(o){case"days":d=s(l(t.start),i)*ne;break;case"minutes":d=c(t.start,i)}return d-=Qt(n,{startDate:i,seconds:d,excluded:r,precision:o}),Math.abs(d/ne)}(n,{event:D,startOfWeek:u,excluded:o,precision:l}),L=function ja(n,a){var t=a.event,i=a.offset,o=a.excluded,s=a.precision,l=a.totalDaysInView,d=n.differenceInSeconds,u=n.addDays,p=n.endOfDay,g=n.differenceInDays,m=ne,y=(0,n.max)([t.start,a.startOfWeekDate]);t.end&&(m="minutes"===s?d(t.end,y):g(u(p(t.end),1),y)*ne);var T=i*ne,b=l*ne;return T+m>b&&(m=b-T),(m-=Qt(n,{startDate:y,seconds:m,excluded:o,precision:s}))/ne}(n,{event:D,offset:M,startOfWeekDate:u,excluded:o,precision:l,totalDaysInView:T});return{event:D,offset:M,span:L}}).filter(function(D){return D.offset<y}).filter(function(D){return D.span>0}).map(function(D){return{event:D.event,offset:D.offset,span:D.span,startsBeforeWeek:D.event.start<u,endsAfterWeek:(D.event.end||D.event.start)>p}}).sort(function(D,M){var L=g(D.event.start,M.event.start);return 0===L?g(M.event.end||M.event.start,D.event.end||D.event.start):L}),b=[],S=[];return C.forEach(function(D,M){if(-1===S.indexOf(D)){S.push(D);var L=D.span+D.offset,R=C.slice(M+1).filter(function(E){if(E.offset>=L&&L+E.span<=T&&-1===S.indexOf(E)){var A=E.offset-L;return d||(E.offset=A),L+=E.span+A,S.push(E),!0}}),Y=ot([D],R,!0),O=Y.filter(function(E){return E.event.id}).map(function(E){return E.event.id}).join("-");b.push(B({row:Y},O?{id:O}:{}))}}),b}function ni(n,a){var t=a.events,i=a.viewDate,r=a.hourSegments,o=a.hourDuration,s=a.dayStart,l=a.dayEnd,c=a.weekStartsOn,d=a.excluded,u=a.weekendDays,p=a.segmentHeight,g=a.viewStart,m=a.viewEnd,y=a.minimumEventHeight,T=function oi(n,a){var t=a.viewDate,i=a.hourSegments,r=a.hourDuration,o=a.dayStart,s=a.dayEnd,l=n.setMinutes,c=n.setHours,d=n.startOfDay,u=n.startOfMinute,p=n.endOfDay,g=n.addMinutes,m=n.addDays,y=[],T=l(c(d(t),We(o.hour)),ze(o.minute)),C=l(c(u(p(t)),We(s.hour)),ze(s.minute)),b=(r||60)/i,S=d(t),D=p(t),M=function(A){return A};n.getTimezoneOffset(S)!==n.getTimezoneOffset(D)&&(S=m(S,1),T=m(T,1),C=m(C,1),M=function(A){return m(A,-1)});for(var L=r?1440/r:60,R=0;R<L;R++){for(var Y=[],O=0;O<i;O++){var E=g(g(T,R*(r||60)),O*b);E>=T&&E<C&&Y.push({date:M(E),displayDate:E,isStart:0===O})}Y.length>0&&y.push({segments:Y})}return y}(n,{viewDate:i,hourSegments:r,hourDuration:o,dayStart:s,dayEnd:l}),C=dt(n,{viewDate:i,weekStartsOn:c,excluded:d,weekendDays:u,viewStart:g,viewEnd:m}),b=n.setHours,S=n.setMinutes,D=n.getHours,M=n.getMinutes;return C.map(function(L){var R=function ri(n,a){var t=a.events,i=a.viewDate,r=a.hourSegments,o=a.dayStart,s=a.dayEnd,l=a.eventWidth,c=a.segmentHeight,d=a.hourDuration,u=a.minimumEventHeight,p=n.setMinutes,g=n.setHours,m=n.startOfDay,y=n.startOfMinute,T=n.endOfDay,C=n.differenceInMinutes,b=p(g(m(i),We(o.hour)),ze(o.minute)),S=p(g(y(T(i)),We(s.hour)),ze(s.minute));S.setSeconds(59,999);var D=[],M=be(n,{events:t.filter(function(O){return!O.allDay}),periodStart:b,periodEnd:S}),L=M.sort(function(O,E){return O.start.valueOf()-E.start.valueOf()}).map(function(O){var E=O.start,A=O.end||E,v=E<b,f=A>S,N=r*c/(d||60),Z=0;if(E>b){var Nt=n.getTimezoneOffset(E),tt=n.getTimezoneOffset(b)-Nt;Z+=C(E,b)+tt}Z*=N,Z=Math.floor(Z);var It=v?b:E,V=f?S:A,_e=n.getTimezoneOffset(It)-n.getTimezoneOffset(V),J=C(V,It)+_e;O.end?J*=N:J=c,u&&J<u&&(J=u),J=Math.floor(J);for(var Gl=Fe(D,Z,Z+J),Vt=0;Gl.some(function(jl){return jl.left===Vt});)Vt+=l;var zn={event:O,height:J,width:l,top:Z,left:Vt,startsBeforeDay:v,endsAfterDay:f};return D.push(zn),zn}),R=Math.max.apply(Math,L.map(function(O){return O.left+O.width})),Y=be(n,{events:t.filter(function(O){return O.allDay}),periodStart:m(b),periodEnd:T(S)});return{events:L,width:R,allDayEvents:Y,period:{events:M,start:b,end:S}}}(n,{events:t,viewDate:L.date,hourSegments:r,dayStart:s,dayEnd:l,segmentHeight:p,eventWidth:1,hourDuration:o,minimumEventHeight:y}),Y=T.map(function(A){var v=A.segments.map(function(f){var N=S(b(L.date,D(f.date)),M(f.date));return B(B({},f),{date:N})});return B(B({},A),{segments:v})});function O(A,v){var f=Math.max.apply(Math,v.map(function(Z){return Z.left+1})),N=A.filter(function(Z){return Z.left>=f}).filter(function(Z){return Fe(v,Z.top,Z.top+Z.height).length>0});return N.length>0?O(A,N):f}var E=R.events.map(function(A){var f=100/O(R.events,Fe(R.events,A.top,A.top+A.height));return B(B({},A),{left:A.left*f,width:f})});return{hours:Y,date:L.date,events:E.map(function(A){var v=Fe(E.filter(function(f){return f.left>A.left}),A.top,A.top+A.height);return v.length>0?B(B({},A),{width:Math.min.apply(Math,v.map(function(f){return f.left}))-A.left}):A})}})}function Fe(n,a,t){return n.filter(function(i){var r=i.top,o=i.top+i.height;return a<o&&o<t||a<r&&r<t||r<=a&&t<=o})}function We(n){return Math.max(Math.min(23,n),0)}function ze(n){return Math.max(Math.min(59,n),0)}var ae=(()=>{return(n=ae||(ae={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",ae;var n})(),li=w(4707),G=w(56451),di=w(39841),ct=w(54968),z=w(39300),ut=w(95577),q=w(13099),xe=w(95698),ci=w(52035),ui=w(57359),Gt=w(54482);var hi=w(25403);function mt(){return(0,Gt.e)((n,a)=>{let t,i=!1;n.subscribe((0,hi.x)(a,r=>{const o=t;t=r,i&&a.next([o,r]),i=!0}))})}var fi=w(71884);function pt(n,a){return n=function vi(n,a){return typeof n>"u"?typeof a>"u"?n:a:n}(n,a),"function"==typeof n?function(){for(var i=arguments,r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=i[s];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},jt=function(n){return null!=n&&"object"===(typeof n>"u"?"undefined":ht(n))&&1===n.nodeType&&"object"===ht(n.style)&&"object"===ht(n.ownerDocument)};function Xt(n,a){if(a=vt(a,!0),!jt(a))return-1;for(var t=0;t<n.length;t++)if(n[t]===a)return t;return-1}function ft(n,a){return-1!==Xt(n,a)}function gi(n,a){for(var t=0;t<a.length;t++)ft(n,a[t])||n.push(a[t]);return a}function yi(n){for(var a=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=a[i+1];return gi(n,t=t.map(vt))}function _i(n){for(var a=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=a[i+1];return t.map(vt).reduce(function(r,o){var s=Xt(n,o);return-1!==s?r.concat(n.splice(s,1)):r},[])}function vt(n,a){if("string"==typeof n)try{return document.querySelector(n)}catch(t){throw t}if(!jt(n)&&!a)throw new TypeError(n+" is not a DOM element.");return n}function Kt(n){if(n===window)return function Ci(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var a={};return Object.defineProperties(a,n),a}();try{var a=n.getBoundingClientRect();return void 0===a.x&&(a.x=a.left,a.y=a.top),a}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}var a,gt=void 0;"function"!=typeof Object.create?(a=function(){},gt=function(t,i){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");a.prototype=t||{};var r=new a;return a.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===t&&(r.__proto__=null),r}):gt=Object.create;var Ti=gt,se=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function yt(n,a){a=a||{};for(var t=Ti(n),i=0;i<se.length;i++)void 0!==a[se[i]]&&(t[se[i]]=a[se[i]]);return t}function _t(n,a){console.log("data ",a),n.data=a||{},n.dispatched="mousemove"}var Se=["webkit","moz","ms","o"],Ee=function(){if(typeof window>"u")return function(){};for(var n=0,a=Se.length;n<a&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[Se[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),o=Math.max(0,16-r-t),s=window.setTimeout(function(){return i(r+o)},o);return t=r+o,s}}return window.requestAnimationFrame.bind(window)}(),he=function(){if(typeof window>"u")return function(){};for(var n=0,a=Se.length;n<a&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[Se[n]+"CancelAnimationFrame"]||window[Se[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function xi(n,a){void 0===a&&(a={});var t=this,i=4,r=!1;if("object"!=typeof a.margin){var o=a.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=a.margin;this.scrollWhenOutside=a.scrollWhenOutside||!1;var s={},l=function wi(n,a){var t=pt((a=a||{}).allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,t(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var o=r.target&&r.target.ownerDocument||document,s=o.documentElement,l=o.body;n.pageX=r.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),n.pageY=r.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}(s),c=function bi(n){var a={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function t(o){for(var s=0;s<se.length;s++)a[se[s]]=o[se[s]]}return void 0!==n&&n.addEventListener("mousemove",t),{destroy:function r(){n&&n.removeEventListener("mousemove",t,!1),a=null},dispatch:MouseEvent?function(s,l,c){var d=new MouseEvent("mousemove",yt(a,l));return _t(d,c),s.dispatchEvent(d)}:"function"==typeof document.createEvent?function(s,l,c){var d=yt(a,l),u=document.createEvent("MouseEvents");return u.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),_t(u,c),s.dispatchEvent(u)}:"function"==typeof document.createEventObject?function(s,l,c){var d=document.createEventObject(),u=yt(a,l);for(var p in u)d[p]=u[p];return _t(d,c),s.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(a.maxSpeed)||(i=a.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=pt(a.autoScroll),this.syncMove=pt(a.syncMove,!1),this.destroy=function(v){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",T,!1),window.removeEventListener("touchstart",T,!1),window.removeEventListener("mouseup",C,!1),window.removeEventListener("touchend",C,!1),window.removeEventListener("pointerup",C,!1),window.removeEventListener("mouseleave",S,!1),window.removeEventListener("mousemove",L,!1),window.removeEventListener("touchmove",L,!1),window.removeEventListener("scroll",y,!0),n=[],v&&b()},this.add=function(){for(var v=[],f=arguments.length;f--;)v[f]=arguments[f];return yi.apply(void 0,[n].concat(v)),this},this.remove=function(){for(var v=[],f=arguments.length;f--;)v[f]=arguments[f];return _i.apply(void 0,[n].concat(v))};var p,v,u=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),v=n,n=[],v.forEach(function(f){f===window?u=window:t.add(f)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return s}},scrolling:{get:function(){return r}}});var m,g=null;function y(v){for(var f=0;f<n.length;f++)if(n[f]===v.target){r=!0;break}r&&Ee(function(){return r=!1})}function T(){d=!0}function C(){d=!1,b()}function b(){he(m),he(p)}function S(){d=!1}function M(){for(var v=null,f=0;f<n.length;f++)en(s,n[f])&&(v=n[f]);return v}function L(v){if(t.autoScroll()&&!v.dispatched){var f=v.target,N=document.body;g&&!en(s,g)&&(t.scrollWhenOutside||(g=null)),f&&f.parentNode===N?f=M():(f=function D(v){if(!v)return null;if(g===v||ft(n,v))return v;for(;v=v.parentNode;)if(ft(n,v))return v;return null}(f),f||(f=M())),f&&f!==g&&(g=f),u&&(he(p),p=Ee(R)),g&&(he(m),m=Ee(Y))}}function R(){O(u),he(p),p=Ee(R)}function Y(){g&&(O(g),he(m),m=Ee(Y))}function O(v){var N,Z,f=Kt(v);N=s.x<f.left+t.margin.left?Math.floor(Math.max(-1,(s.x-f.left)/t.margin.left-1)*t.maxSpeed.left):s.x>f.right-t.margin.right?Math.ceil(Math.min(1,(s.x-f.right)/t.margin.right+1)*t.maxSpeed.right):0,Z=s.y<f.top+t.margin.top?Math.floor(Math.max(-1,(s.y-f.top)/t.margin.top-1)*t.maxSpeed.top):s.y>f.bottom-t.margin.bottom?Math.ceil(Math.min(1,(s.y-f.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):0,t.syncMove()&&c.dispatch(v,{pageX:s.pageX+N,pageY:s.pageY+Z,clientX:s.x+N,clientY:s.y+Z}),setTimeout(function(){Z&&function E(v,f){v===window?window.scrollTo(v.pageXOffset,v.pageYOffset+f):v.scrollTop+=f}(v,Z),N&&function A(v,f){v===window?window.scrollTo(v.pageXOffset+f,v.pageYOffset):v.scrollLeft+=f}(v,N)})}window.addEventListener("mousedown",T,!1),window.addEventListener("touchstart",T,!1),window.addEventListener("mouseup",C,!1),window.addEventListener("touchend",C,!1),window.addEventListener("pointerup",C,!1),window.addEventListener("mousemove",L,!1),window.addEventListener("touchmove",L,!1),window.addEventListener("mouseleave",S,!1),window.addEventListener("scroll",y,!0)}function en(n,a,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:function Di(n,a){var t=Kt(a);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}(n,a)}function wt(n,a,t){t&&t.split(" ").forEach(i=>n.addClass(a.nativeElement,i))}function Be(n,a,t){t&&t.split(" ").forEach(i=>n.removeClass(a.nativeElement,i))}let tn=(()=>{class n{constructor(){this.currentDrag=new F.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nn=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),Ct=(()=>{class n{constructor(t,i,r,o,s,l,c){this.element=t,this.renderer=i,this.draggableHelper=r,this.zone=o,this.vcr=s,this.scrollContainer=l,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new e.vpe,this.dragStart=new e.vpe,this.ghostElementCreated=new e.vpe,this.dragging=new e.vpe,this.dragEnd=new e.vpe,this.pointerDown$=new F.x,this.pointerMove$=new F.x,this.pointerUp$=new F.x,this.eventListenerSubscriptions={},this.destroy$=new F.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const t=this.pointerDown$.pipe((0,z.h)(()=>this.canDrag()),(0,ut.z)(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const o=this.getScrollPosition(),s=new pe.y(m=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",T=>m.next(T))).pipe((0,rt.O)(o),(0,I.U)(()=>this.getScrollPosition())),l=new F.x,c=new li.t;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,G.T)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe((0,q.B)()),u=(0,di.a)([this.pointerMove$,s]).pipe((0,I.U)(([m,y])=>({currentDrag$:l,transformX:m.clientX-i.clientX,transformY:m.clientY-i.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:y.left,scrollTop:y.top,target:m.event.target})),(0,I.U)(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),(0,I.U)(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),(0,I.U)(m=>{const y=m.scrollLeft-o.left,T=m.scrollTop-o.top;return{...m,x:m.transformX+y,y:m.transformY+T}}),(0,z.h)(({x:m,y,transformX:T,transformY:C})=>!this.validateDrag||this.validateDrag({x:m,y,transform:{x:T,y:C}})),(0,te.R)(d),(0,q.B)()),p=u.pipe((0,xe.q)(1),(0,q.B)()),g=u.pipe((0,ci.h)(1),(0,q.B)());return p.subscribe(({clientX:m,clientY:y,x:T,y:C})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function Si(n,a){return new xi(n,a)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),wt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const b=this.element.nativeElement.getBoundingClientRect(),S=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(S):this.element.nativeElement.parentNode.insertBefore(S,this.element.nativeElement.nextSibling),this.ghostElement=S,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(S,{position:"fixed",top:`${b.top}px`,left:`${b.left}px`,width:`${b.width}px`,height:`${b.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const D=this.vcr.createEmbeddedView(this.ghostElementTemplate);S.innerHTML="",D.rootNodes.filter(M=>M instanceof Node).forEach(M=>{S.appendChild(M)}),g.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(D))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-T,clientY:y-C,element:S})}),g.subscribe(()=>{S.parentElement.removeChild(S),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),g.pipe((0,ut.z)(m=>{const y=c.pipe(function pi(n){return function mi(n,a){return(0,Gt.e)((0,ui.U)(n,a,arguments.length>=2,!1,!0))}((a,t,i)=>!n||n(t,i)?a+1:a,0)}(),(0,xe.q)(1),(0,I.U)(T=>({...m,dragCancelled:T>0})));return c.complete(),y})).subscribe(({x:m,y,dragCancelled:T})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y,dragCancelled:T})}),Be(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,G.T)(d,g).pipe((0,xe.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),u}),(0,q.B)());(0,G.T)(t.pipe((0,xe.q)(1),(0,I.U)(i=>[,i])),t.pipe(mt())).pipe((0,z.h)(([i,r])=>!i||i.x!==r.x||i.y!==r.y),(0,I.U)(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:o,clientX:s,clientY:l,transformX:c,transformY:d,target:u})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const p=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:p,"-webkit-transform":p,"-ms-transform":p,"-moz-transform":p,"-o-transform":p})}}),o.next({clientX:s,clientY:l,dropData:this.dropData,target:u})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const t=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;t&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&i&&this.unsubscribeEventListeners()}onMouseDown(t){0===t.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){0===t.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let i,r,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,o=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,ct.R)(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),l=(0,ct.R)(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!r&&o&&(r=this.shouldBeginDrag(t,c,i)),(!this.touchStartLongPress||!o||r)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(t,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,i,r){const o=this.getScrollPosition(),s_top=Math.abs(o.top-r.top),s_left=Math.abs(o.left-r.left),l=Math.abs(i.targetTouches[0].clientX-t.touches[0].clientX)-s_left,c=Math.abs(i.targetTouches[0].clientY-t.touches[0].clientY)-s_top,u=this.touchStartLongPress;return(l+c>u.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=u.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const t=this.getScrollElement();return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(tn),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(nn,8),e.Y36(h.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[e.TTD]}),n})();function an(n,a,t){return n>=t.left&&n<=t.right&&a>=t.top&&a<=t.bottom}let Dt=(()=>{class n{constructor(t,i,r,o,s){this.element=t,this.draggableHelper=i,this.zone=r,this.renderer=o,this.scrollContainer=s,this.dragEnter=new e.vpe,this.dragLeave=new e.vpe,this.dragOver=new e.vpe,this.drop=new e.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{wt(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let o;const s=t.pipe((0,I.U)(({clientX:d,clientY:u,dropData:p,target:g})=>{o={clientX:d,clientY:u,dropData:p,target:g},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const m=an(d,u,i.rect),y=!this.validateDrop||this.validateDrop({clientX:d,clientY:u,target:g,dropData:p});return i.scrollContainerRect?m&&y&&an(d,u,i.scrollContainerRect):m&&y})),l=s.pipe((0,fi.x)());let c;l.pipe((0,z.h)(d=>d)).subscribe(()=>{c=!0,wt(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),s.pipe((0,z.h)(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),l.pipe(mt(),(0,z.h)(([d,u])=>d&&!u)).subscribe(()=>{c=!1,Be(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),t.subscribe({complete:()=>{r(),Be(this.renderer,this.element,this.dragActiveClass),c&&(Be(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(tn),e.Y36(e.R0b),e.Y36(e.Qsj),e.Y36(nn,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var j=w(37340),ki=w(18505);const le=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function rn(n,a,t,i){const r=a.querySelectorAll(n);if(r.length){const o=t.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let Ai=0;function on(n,a){"file"!==a.type&&(a.value=n.value),"radio"===a.type&&a.name&&(a.name=`mat-clone-${a.name}-${Ai++}`)}function sn(n,a){const t=a.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function ln(n,a,t,i){const r={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return a.top&&(r.top+=i),a.bottom&&(r.bottom+=i),a.left&&(r.left+=t),a.right&&(r.right+=t),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const dn=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function cn(n,a){return n.left&&n.top?a.topLeft:n.right&&n.top?a.topRight:n.left&&n.bottom?a.bottomLeft:n.right&&n.bottom?a.bottomRight:n.left||n.right?a.leftOrRight:n.top||n.bottom?a.topOrBottom:""}function Je({edges:n,initialRectangle:a,newRectangle:t}){const i={};return Object.keys(n).forEach(r=>{i[r]=(t[r]||0)-(a[r]||0)}),i}const un="resize-active";let mn=(()=>{class n{constructor(t,i,r,o){this.platformId=t,this.renderer=i,this.elm=r,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=dn,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new e.vpe,this.resizing=new e.vpe,this.resizeEnd=new e.vpe,this.mouseup=new F.x,this.mousedown=new F.x,this.mousemove=new F.x,this.destroy$=new F.x,this.pointerEventListeners=fe.getInstance(i,o)}ngOnInit(){const t=(0,G.T)(this.pointerEventListeners.pointerDown,this.mousedown),i=(0,G.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,ki.b)(({event:d})=>{o&&d.cancelable&&d.preventDefault()}),(0,q.B)()),r=(0,G.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>({...dn,...this.resizeCursors});t.pipe((0,ut.z)(d=>{function u(m){return{clientX:m.clientX-d.clientX,clientY:m.clientY-d.clientY}}const p=()=>{const m={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?m.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(m.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?m.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(m.y=+this.resizeSnapGrid.bottom)),m};function g(m,y){return{x:Math.ceil(m.clientX/y.x),y:Math.ceil(m.clientY/y.y)}}return(0,G.T)(i.pipe((0,xe.q)(1)).pipe((0,I.U)(m=>[,m])),i.pipe(mt())).pipe((0,I.U)(([m,y])=>[m&&u(m),u(y)])).pipe((0,z.h)(([m,y])=>{if(!m)return!0;const T=p(),C=g(m,T),b=g(y,T);return C.x!==b.x||C.y!==b.y})).pipe((0,I.U)(([,m])=>{const y=p();return{clientX:Math.round(m.clientX/y.x)*y.x,clientY:Math.round(m.clientY/y.y)*y.y}})).pipe((0,te.R)((0,G.T)(r,t)))})).pipe((0,z.h)(()=>!!o)).pipe((0,I.U)(({clientX:d,clientY:u})=>ln(o.startingRect,o.edges,d,u))).pipe((0,z.h)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,z.h)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:Je({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,te.R)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Je({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),t.pipe((0,I.U)(({edges:d})=>d||{}),(0,z.h)(d=>Object.keys(d).length>0),(0,te.R)(this.destroy$)).subscribe(d=>{o&&s();const u=function Oi(n,a){let t=0,i=0;const r=n.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>r[l]).find(l=>!!l);if(s&&s.includes("translate")&&(t=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===a)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-i,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-i,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const l=n.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-i,bottom:l.bottom-i,left:l.left-t,right:l.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:u,currentRect:u};const p=l(),g=cn(o.edges,p);this.renderer.setStyle(document.body,"cursor",g),this.setElementClass(this.elm,un,!0),this.enableGhostResize&&(o.clonedNode=function Mi(n){const a=n.cloneNode(!0),t=a.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();return a.removeAttribute("id"),t.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?sn(n,a):("input"===i||"select"===i||"textarea"===i)&&on(n,a),rn("canvas",n,a,sn),rn("input, textarea, select",n,a,on),a}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",cn(o.edges,p)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Je({edges:d,initialRectangle:u,newRectangle:u}),rectangle:ln(u,{},0,0)})})}),r.pipe((0,te.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,un),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Je({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){(0,h.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,i,r){r?this.renderer.addClass(t.nativeElement,i):this.renderer.removeClass(t.nativeElement,i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class fe{constructor(a,t){this.pointerDown=new pe.y(i=>{let r,o;return t.runOutsideAngular(()=>{r=a.listen("document","mousedown",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),le&&(o=a.listen("document","touchstart",s=>{i.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{r(),le&&o()}}).pipe((0,q.B)()),this.pointerMove=new pe.y(i=>{let r,o;return t.runOutsideAngular(()=>{r=a.listen("document","mousemove",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),le&&(o=a.listen("document","touchmove",s=>{i.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{r(),le&&o()}}).pipe((0,q.B)()),this.pointerUp=new pe.y(i=>{let r,o,s;return t.runOutsideAngular(()=>{r=a.listen("document","mouseup",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),le&&(o=a.listen("document","touchend",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=a.listen("document","touchcancel",l=>{i.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{r(),le&&(o(),s())}}).pipe((0,q.B)())}static getInstance(a,t){return fe.instance||(fe.instance=new fe(a,t)),fe.instance}}let Zi=(()=>{class n{constructor(t,i,r,o){this.renderer=t,this.element=i,this.zone=r,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new F.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),le&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),(0,G.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,i,r){t.cancelable&&t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(t,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return(0,ct.R)(this.element.nativeElement,t).pipe((0,te.R)(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(mn,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const Ri=function(n){return{action:n}};function Ni(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).event;return e.KtG(s.onClick({event:l,sourceEvent:r}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=a.$implicit;e.Q6J("ngClass",t.cssClass)("innerHtml",t.label,e.oJD),e.uIk("aria-label",e.xi3(1,3,e.VKq(6,Ri,t),"actionButtonLabel"))}}function Yi(n,a){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,Ni,2,8,"a",4),e.qZA()),2&n){const t=e.oxw(),i=t.event,r=t.trackByActionId;e.xp6(1),e.Q6J("ngForOf",i.actions)("ngForTrackBy",r)}}function Ii(n,a){1&n&&e.YNc(0,Yi,2,2,"span",2),2&n&&e.Q6J("ngIf",a.event.actions)}function Pi(n,a){}const Vi=function(n,a){return{event:n,trackByActionId:a}},ve=function(){return{}};function Fi(n,a){if(1&n&&(e._UZ(0,"span",2),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y")),2&n){const t=a.event;e.Q6J("innerHTML",e.Dn7(1,2,t.title,a.view,t),e.oJD),e.uIk("aria-hidden",e.xi3(2,6,e.DdM(9,ve),"hideEventTitle"))}}function Wi(n,a){}const zi=function(n,a){return{event:n,view:a}};function Bi(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3)(2,"div",4),e.qZA()),2&n){const t=a.contents;e.Q6J("ngClass","cal-tooltip-"+a.placement),e.xp6(2),e.Q6J("innerHtml",t,e.oJD)}}function Ui(n,a){}const Ji=function(n,a,t){return{contents:n,placement:a,event:t}};function qi(n,a){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw().day;e.xp6(1),e.Oqu(t.badgeTotal)}}const Tt=function(n){return{backgroundColor:n}},Qi=function(n,a){return{event:n,draggedFrom:a}},ke=function(n,a){return{x:n,y:a}},qe=function(){return{delay:300,delta:30}};function $i(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("mouseenter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).highlightDay;return e.KtG(s.emit({event:o}))})("mouseleave",function(){const o=e.CHM(t).$implicit,s=e.oxw(2).unhighlightDay;return e.KtG(s.emit({event:o}))})("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:r}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw(2),r=i.tooltipPlacement,o=i.tooltipTemplate,s=i.tooltipAppendToBody,l=i.tooltipDelay,c=i.day,d=i.validateDrag;e.ekj("cal-draggable",t.draggable),e.Q6J("ngStyle",e.VKq(22,Tt,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",e.Dn7(1,15,t.title,"monthTooltip",t))("tooltipPlacement",r)("tooltipEvent",t)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",l)("dropData",e.WLB(24,Qi,t,c))("dragAxis",e.WLB(27,ke,t.draggable,t.draggable))("validateDrag",d)("touchStartLongPress",e.DdM(30,qe)),e.uIk("aria-hidden",e.xi3(2,19,e.DdM(31,ve),"hideMonthCellEvents"))}}function Gi(n,a){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,$i,3,32,"div",9),e.qZA()),2&n){const t=e.oxw(),i=t.day,r=t.trackByEventId;e.xp6(1),e.Q6J("ngForOf",i.events)("ngForTrackBy",r)}}const ji=function(n,a){return{day:n,locale:a}};function Xi(n,a){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.TgZ(2,"span",3),e.YNc(3,qi,2,1,"span",4),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"calendarDate"),e.qZA()()(),e.YNc(7,Gi,2,2,"div",6)),2&n){const t=a.day,i=a.locale;e.uIk("aria-label",e.xi3(1,4,e.WLB(11,ji,t,i),"monthCell")),e.xp6(3),e.Q6J("ngIf",t.badgeTotal>0),e.xp6(2),e.Oqu(e.Dn7(6,7,t.date,"monthViewDayNumber",i)),e.xp6(2),e.Q6J("ngIf",t.events.length>0)}}function Ki(n,a){}const er=function(n,a,t,i,r,o,s,l,c,d,u,p){return{day:n,openDay:a,locale:t,tooltipPlacement:i,highlightDay:r,unhighlightDay:o,eventClicked:s,tooltipTemplate:l,tooltipAppendToBody:c,tooltipDelay:d,trackByEventId:u,validateDrag:p}},tr=function(n){return{event:n}},hn=function(n,a){return{event:n,locale:a}};function nr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e._UZ(1,"span",8),e._uU(2," "),e.TgZ(3,"mwl-calendar-event-title",9),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2).eventClicked;return e.KtG(l.emit({event:s,sourceEvent:r}))}),e.ALo(4,"calendarA11y"),e.qZA(),e._uU(5," "),e._UZ(6,"mwl-calendar-event-actions",10),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw(2).validateDrag,r=e.oxw();e.ekj("cal-draggable",t.draggable),e.Q6J("ngClass",null==t?null:t.cssClass)("dropData",e.VKq(16,tr,t))("dragAxis",e.WLB(18,ke,t.draggable,t.draggable))("validateDrag",i)("touchStartLongPress",e.DdM(21,qe)),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,Tt,null==t.color?null:t.color.primary)),e.xp6(2),e.Q6J("event",t)("customTemplate",r.eventTitleTemplate),e.uIk("aria-label",e.xi3(4,13,e.WLB(24,hn,t,r.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t)("customTemplate",r.eventActionsTemplate)}}const fn=function(n,a){return{date:n,locale:a}};function ar(n,a){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"span",4),e.ALo(2,"calendarA11y"),e._UZ(3,"span",5),e.ALo(4,"calendarA11y"),e.YNc(5,nr,7,27,"div",6),e.qZA()),2&n){const t=e.oxw(),i=t.events,r=t.trackByEventId,o=e.oxw();e.Q6J("@collapse",void 0),e.xp6(1),e.uIk("aria-label",e.xi3(2,5,e.WLB(11,fn,o.date,o.locale),"openDayEventsAlert")),e.xp6(2),e.uIk("aria-label",e.xi3(4,8,e.WLB(14,fn,o.date,o.locale),"openDayEventsLandmark")),e.xp6(2),e.Q6J("ngForOf",i)("ngForTrackBy",r)}}function ir(n,a){1&n&&e.YNc(0,ar,6,17,"div",2),2&n&&e.Q6J("ngIf",a.isOpen)}function rr(n,a){}const or=function(n,a,t,i,r){return{events:n,eventClicked:a,isOpen:t,trackByEventId:i,validateDrag:r}};function sr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:r}))}),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(1),e.hij(" ",e.Dn7(2,10,t.date,"monthViewColumnHeader",i)," ")}}function lr(n,a){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,sr,3,14,"div",3),e.qZA()),2&n){const t=a.days,i=a.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i)}}function dr(n,a){}const cr=function(n,a,t){return{days:n,locale:a,trackByWeekDayHeaderDate:t}};function ur(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-cell",7),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dayClicked.emit({day:s,sourceEvent:r}))})("highlightDay",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleDayHighlight(r.event,!1))})("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(s,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),e.ALo(1,"calendarA11y"),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw(2);e.Q6J("ngClass",null==t?null:t.cssClass)("day",t)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",e.VKq(15,Tt,t.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),e.uIk("tabindex",e.xi3(1,12,e.DdM(17,ve),"monthCellTabIndex"))}}function mr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",4),e.YNc(2,ur,2,18,"mwl-calendar-month-cell",5),e.ALo(3,"slice"),e.qZA(),e.TgZ(4,"mwl-calendar-open-day-events",6),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.eventDropped(o.openDay,r.dropData.event,r.dropData.draggedFrom))}),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,9,i.view.days,t,t+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),e.xp6(2),e.Q6J("locale",i.locale)("isOpen",i.openRowIndex===t)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function pr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw().dayHeaderClicked;return e.KtG(l.emit({day:s,sourceEvent:r}))})("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw().eventDropped;return e.KtG(l.emit({event:r.dropData.event,newStart:s.date}))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw().dragEnter;return e.KtG(s.emit({date:o.date}))}),e.TgZ(1,"b"),e._uU(2),e.ALo(3,"calendarDate"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"calendarDate"),e.qZA()()}if(2&n){const t=a.$implicit,i=e.oxw().locale;e.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),e.Q6J("ngClass",t.cssClass),e.xp6(2),e.Oqu(e.Dn7(3,11,t.date,"weekViewColumnHeader",i)),e.xp6(4),e.Oqu(e.Dn7(7,15,t.date,"weekViewColumnSubHeader",i))}}function hr(n,a){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,pr,8,19,"div",3),e.qZA()),2&n){const t=a.days,i=a.trackByWeekDayHeaderDate;e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i)}}function fr(n,a){}const vr=function(n,a,t,i,r,o){return{days:n,locale:a,dayHeaderClicked:t,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:o}},gr=function(n,a,t){return{color:n,backgroundColor:a,borderColor:t}};function yr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("mwlClick",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){const s=e.CHM(t).eventClicked;return e.KtG(s.emit({sourceEvent:r}))}),e.ALo(1,"calendarEventTitle"),e.ALo(2,"calendarA11y"),e._UZ(3,"mwl-calendar-event-actions",3),e._uU(4," "),e._UZ(5,"mwl-calendar-event-title",4),e.qZA()}if(2&n){const t=a.weekEvent,i=a.tooltipPlacement,r=a.tooltipTemplate,o=a.tooltipAppendToBody,s=a.tooltipDisabled,l=a.tooltipDelay,c=a.daysInWeek,d=e.oxw();e.Q6J("ngStyle",e.kEZ(20,gr,null==t.event.color?null:t.event.color.secondaryText,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",s?"":e.Dn7(1,13,t.event.title,1===c?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",i)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",r)("tooltipAppendToBody",o)("tooltipDelay",l),e.uIk("aria-label",e.xi3(2,17,e.WLB(24,hn,t.tempEvent||t.event,d.locale),"eventDescription")),e.xp6(3),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventActionsTemplate),e.xp6(2),e.Q6J("event",t.tempEvent||t.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function _r(n,a){}const wr=function(n,a,t,i,r,o,s,l,c){return{weekEvent:n,tooltipPlacement:a,eventClicked:t,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:c}};function Cr(n,a){if(1&n&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"calendarDate"),e.qZA()),2&n){const t=e.oxw(),i=t.segment,r=t.daysInWeek,o=t.locale;e.xp6(1),e.hij(" ",e.Dn7(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",o)," ")}}function Dr(n,a){if(1&n&&(e.TgZ(0,"div",2),e.ALo(1,"calendarA11y"),e.YNc(2,Cr,3,5,"div",3),e.qZA()),2&n){const t=a.segment,r=a.isTimeLabel,o=a.daysInWeek;e.Udp("height",a.segmentHeight,"px"),e.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),e.Q6J("ngClass",t.cssClass),e.uIk("aria-hidden",e.xi3(1,9,e.DdM(12,ve),1===o?"hideDayHourSegment":"hideWeekHourSegment")),e.xp6(2),e.Q6J("ngIf",r)}}function Tr(n,a){}const br=function(n,a,t,i,r){return{segment:n,locale:a,segmentHeight:t,isTimeLabel:i,daysInWeek:r}};function xr(n,a){if(1&n&&e._UZ(0,"div",3),2&n){const t=e.oxw().topPx;e.Udp("top",t,"px")}}function Sr(n,a){1&n&&e.YNc(0,xr,1,2,"div",2),2&n&&e.Q6J("ngIf",a.isVisible)}function Er(n,a){}const kr=function(n,a,t,i,r,o,s){return{columnDate:n,dayStartHour:a,dayStartMinute:t,dayEndHour:i,dayEndMinute:r,isVisible:o,topPx:s}};function Mr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.eventDropped(r,s.date,!0))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}}const Ar=function(){return{left:!0}};function Or(n,a){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,Ar))}const Lr=function(){return{right:!0}};function Hr(n,a){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,Lr))}const Zr=function(n,a){return{left:n,right:a}},vn=function(n,a){return{event:n,calendarId:a}},Rr=function(n){return{x:n}};function Nr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17,18),e.NdJ("resizeStart",function(r){const s=e.CHM(t).$implicit;e.oxw();const l=e.MAs(1),c=e.oxw(2);return e.KtG(c.allDayEventResizeStarted(l,s,r))})("resizing",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.allDayEventResizing(s,r,l.dayColumnWidth))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.allDayEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1);e.oxw();const l=e.MAs(1),c=e.oxw(2);return e.KtG(c.dragStarted(l,s,o,!1))})("dragging",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.allDayEventDragMove())})("dragEnd",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.dragEnded(s,r,l.dayColumnWidth))}),e.YNc(2,Or,1,2,"div",19),e.TgZ(3,"mwl-calendar-week-view-event",20),e.NdJ("eventClicked",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventClicked.emit({event:s.event,sourceEvent:r.sourceEvent}))}),e.qZA(),e.YNc(4,Hr,1,2,"div",21),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw(3);e.Udp("width",100/i.days.length*t.span,"%")("margin-left",i.rtl?null:100/i.days.length*t.offset,"%")("margin-right",i.rtl?100/i.days.length*t.offset:null,"%"),e.ekj("cal-draggable",t.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),e.Q6J("ngClass",null==t.event?null:t.event.cssClass)("resizeCursors",i.resizeCursors)("resizeSnapGrid",e.WLB(33,Zr,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",e.WLB(36,vn,t.event,i.calendarId))("dragAxis",e.WLB(39,ke,t.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&t.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?e.VKq(42,Rr,i.dayColumnWidth):e.DdM(44,ve))("validateDrag",i.validateDrag)("touchStartLongPress",e.DdM(45,qe)),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),e.xp6(1),e.Q6J("locale",i.locale)("weekEvent",t)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),e.xp6(1),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function Yr(n,a){if(1&n&&(e.TgZ(0,"div",14,15),e.YNc(2,Nr,5,46,"div",16),e.qZA()),2&n){const t=a.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function Ir(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8,9),e.NdJ("dragEnter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragEnter("allDay"))})("dragLeave",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragLeave("allDay"))}),e.TgZ(2,"div",5),e._UZ(3,"div",10),e.YNc(4,Mr,1,0,"div",11),e.qZA(),e.YNc(5,Yr,3,2,"div",12),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t.allDayEventsLabelTemplate),e.xp6(1),e.Q6J("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),e.xp6(1),e.Q6J("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function Pr(n,a){if(1&n&&e._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const t=a.$implicit,i=e.oxw(3);e.Udp("height",i.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function Vr(n,a){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Pr,1,8,"mwl-calendar-week-view-hour-segment",27),e.qZA()),2&n){const t=a.$implicit,i=a.odd,r=e.oxw(2);e.ekj("cal-hour-odd",i),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",r.trackByHourSegment)}}function Fr(n,a){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,Vr,2,4,"div",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}const Wr=function(){return{left:!0,top:!0}};function zr(n,a){1&n&&e._UZ(0,"div",22),2&n&&e.Q6J("resizeEdges",e.DdM(1,Wr))}function Br(n,a){}function Ur(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-event",36),e.NdJ("eventClicked",function(r){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent}))}),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit,r=e.oxw();e.Q6J("locale",r.locale)("weekEvent",t)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const Jr=function(){return{right:!0,bottom:!0}};function qr(n,a){1&n&&e._UZ(0,"div",23),2&n&&e.Q6J("resizeEdges",e.DdM(1,Jr))}const Qr=function(n,a,t,i){return{left:n,right:a,top:t,bottom:i}};function $r(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",33,18),e.NdJ("resizeStart",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2),c=e.MAs(6);return e.KtG(l.timeEventResizeStarted(c,s,r))})("resizing",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.timeEventResizing(s,r))})("resizeEnd",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.timeEventResizeEnded(o))})("dragStart",function(){const o=e.CHM(t).$implicit,s=e.MAs(1),l=e.oxw(2),c=e.MAs(6);return e.KtG(l.dragStarted(c,s,o,!0))})("dragging",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragMove(s,r))})("dragEnd",function(r){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.dragEnded(s,r,l.dayColumnWidth,!0))}),e.YNc(2,zr,1,2,"div",19),e.YNc(3,Br,0,0,"ng-template",34),e.YNc(4,Ur,1,12,"ng-template",null,35,e.W1O),e.YNc(6,qr,1,2,"div",21),e.qZA()}if(2&n){const t=a.$implicit,i=e.MAs(5),r=e.oxw(2);e.Udp("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),e.ekj("cal-draggable",t.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),e.Q6J("ngClass",t.event.cssClass)("hidden",0===t.height&&0===t.width)("resizeCursors",r.resizeCursors)("resizeSnapGrid",e.l5B(30,Qr,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",e.WLB(35,vn,t.event,r.calendarId))("dragAxis",e.WLB(38,ke,t.event.draggable&&0===r.timeEventResizes.size,t.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?e.WLB(41,ke,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):e.DdM(44,ve))("touchStartLongPress",e.DdM(45,qe))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),e.xp6(2),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),e.xp6(1),e.Q6J("ngTemplateOutlet",i),e.xp6(3),e.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function Gr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view-hour-segment",38),e.NdJ("mwlClick",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.hourSegmentClicked.emit({date:s.date,sourceEvent:r}))})("drop",function(r){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.eventDropped(r,s.date,!1))})("dragEnter",function(){const o=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.dateDragEnter(o.date))}),e.qZA()}if(2&n){const t=a.$implicit,i=e.oxw(3);e.Udp("height",i.hourSegmentHeight,"px"),e.Q6J("segment",t)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function jr(n,a){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,Gr,1,10,"mwl-calendar-week-view-hour-segment",37),e.qZA()),2&n){const t=a.$implicit,i=a.odd,r=e.oxw(2);e.ekj("cal-hour-odd",i),e.xp6(1),e.Q6J("ngForOf",t.segments)("ngForTrackBy",r.trackByHourSegment)}}function Xr(n,a){if(1&n&&(e.TgZ(0,"div",29),e._UZ(1,"mwl-calendar-week-view-current-time-marker",30),e.TgZ(2,"div",31),e.YNc(3,$r,7,46,"div",32),e.qZA(),e.YNc(4,jr,2,4,"div",25),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("columnDate",t.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),e.xp6(2),e.Q6J("ngForOf",t.events)("ngForTrackBy",i.trackByWeekTimeEvent),e.xp6(1),e.Q6J("ngForOf",t.hours)("ngForTrackBy",i.trackByHour)}}let de=(()=>{class n{constructor(t,i,r){this.renderer=t,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new e.vpe,this.destroy$=new F.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,te.R)(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new pe.y(t=>this.renderer.listen(this.elm.nativeElement,"click",i=>{t.next(i)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(h.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),Qe=(()=>{class n{constructor(t,i,r){this.host=t,this.ngZone=i,this.renderer=r,this.keydown=new e.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(13===t.keyCode||13===t.which||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Qsj))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),$e=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:i}){return t.badgeTotal>0?`\n        ${(0,h.p6)(t.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,h.p6)(t.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:t,locale:i}){return`\n      Beginning of expanded view for ${(0,h.p6)(t,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:t,locale:i}){return`${(0,h.p6)(t,"EEEE MMMM dd",i)} expanded`}eventDescription({event:t,locale:i}){if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:i});const r=`\n      ${(0,h.p6)(t.start,"EEEE MMMM dd",i)},\n      ${t.title}, from ${(0,h.p6)(t.start,"hh:mm a",i)}\n    `;return t.end?r+` to ${(0,h.p6)(t.end,"hh:mm a",i)}`:r}allDayEventDescription({event:t,locale:i}){const r=`\n      ${t.title}, event spans multiple days:\n      start time ${(0,h.p6)(t.start,"MMMM dd hh:mm a",i)}\n    `;return t.end?r+`, stop time ${(0,h.p6)(t.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.Gx))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n{constructor(t,i){this.calendarA11y=t,this.locale=i}transform(t,i){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[i]>"u"){const r=Object.getOwnPropertyNames(Object.getPrototypeOf($e.prototype)).filter(o=>"constructor"!==o);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($e,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarA11y",type:n,pure:!0}),n})(),gn=(()=>{class n{constructor(){this.trackByActionId=(t,i)=>i.id?i.id:i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(t,i){if(1&t&&(e.YNc(0,Ii,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Pi,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.WLB(2,Vi,i.event,i.trackByActionId))}},dependencies:[h.mk,h.sg,h.O5,h.tP,de,Qe,ce],encapsulation:2}),n})();class bt{month(a,t){return a.title}monthTooltip(a,t){return a.title}week(a,t){return a.title}weekTooltip(a,t){return a.title}day(a,t){return a.title}dayTooltip(a,t){return a.title}}let xt=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,i,r){return this.calendarEventTitle[i](r,t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(bt,16))},n.\u0275pipe=e.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n})(),yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,i){if(1&t&&(e.YNc(0,Fi,3,10,"ng-template",null,0,e.W1O),e.YNc(2,Wi,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.WLB(2,zi,i.event,i.view))}},dependencies:[h.tP,xt,ce],encapsulation:2}),n})(),Kr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,i){if(1&t&&(e.YNc(0,Bi,3,2,"ng-template",null,0,e.W1O),e.YNc(2,Ui,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.kEZ(2,Ji,i.contents,i.placement,i.event))}},dependencies:[h.mk,h.tP],encapsulation:2}),n})(),_n=(()=>{class n{constructor(t,i,r,o,s,l){this.elementRef=t,this.injector=i,this.renderer=r,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new F.x,this.tooltipFactory=o.resolveComponentFactory(Kr)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,Fa.of)("now"):(0,Jt.H)(this.delay)).pipe((0,te.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function Qa(n,a,t,i,r){var o=Array.isArray(t)?t:t.split(qa),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=a.classList,c=function(C){var b=C.split("-"),S=b[0],D=b[1],M=[];return r&&(M.push(r+"-"+S),D&&M.push(r+"-"+S+"-"+D),M.forEach(function(L){l.add(L)})),M};r&&s.forEach(function(C){l.remove(r+"-"+C)});var d=o.findIndex(function(C){return"auto"===C});d>=0&&s.forEach(function(C){null==o.find(function(b){return-1!==b.search("^"+C)})&&o.splice(d++,1,C)});var u=a.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";for(var p,g=!1,m=0,y=o;m<y.length;m++){var T=c(p=y[m]);if(qt.positionElements(n,a,p,i)){g=!0;break}r&&T.forEach(function(C){l.remove(C)})}return g||(c(p=o[0]),qt.positionElements(n,a,p,i)),p}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===t.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.zs3),e.Y36(e.Qsj),e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(h.K0))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,i){1&t&&e.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[e.TTD]}),n})();var X=(()=>{return(n=X||(X={})).Month="month",n.Week="week",n.Day="day",X;var n})();const wn=n=>function si(n,a){var t=!0;function i(r,o){a(r,o),t=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(ae.StartPropertyNotDate,r):i(ae.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(ae.EndPropertyNotDate,r),r.start>r.end&&i(ae.EndsBeforeStart,r))}),t):(a(ae.NotArray,n),!1)}(n,(...t)=>console.warn("angular-calendar",...t));function Cn(n,a){return Math.floor(n.left)<=Math.ceil(a.left)&&Math.floor(a.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(a.right)&&Math.floor(a.right)<=Math.ceil(n.right)}function Dn(n,a){return Math.round(n/a)*a}const Tn=(n,a)=>a.id?a.id:a,St=(n,a)=>a.date.toISOString(),no=(n,a)=>a.date.toISOString(),ao=(n,a)=>a.segments[0].date.toISOString(),io=(n,a)=>a.event.id?a.event.id:a.event,ro=(n,a)=>a.event.id?a.event.id:a.event;function Et(n,a,t,i,r){const o=Dn(n,i||t),s=function so(n,a,t){return(t||60)/(n*a)}(a,t,r);return o*s}function bn(n,a,t){return a.end?a.end:n.addMinutes(a.start,t)}function U(n,a,t,i){let r=0,o=0;const s=t<0?n.subDays:n.addDays;let l=a;for(;o<=Math.abs(t);){l=s(a,r);const c=n.getDay(l);-1===i.indexOf(c)&&o++,r++}return l}function kt(n,a,t,i=[],r){let o=r?n.startOfDay(a):n.startOfWeek(a,{weekStartsOn:t});const s=n.endOfWeek(a,{weekStartsOn:t});for(;i.indexOf(n.getDay(o))>-1&&o<s;)o=n.addDays(o,1);if(r)return{viewStart:o,viewEnd:n.endOfDay(U(n,o,r-1,i))};{let l=s;for(;i.indexOf(n.getDay(l))>-1&&l>o;)l=n.subDays(l,1);return{viewStart:o,viewEnd:l}}}function Mt({x:n,y:a}){return Math.abs(n)>1||Math.abs(a)>1}class K{}let uo=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===X.Day?U(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===X.Week&&this.daysInWeek?U(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),mo=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new e.vpe}onClick(){const t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===X.Day?U(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===X.Week&&this.daysInWeek?U(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),po=(()=>{class n{constructor(t){this.dateAdapter=t,this.viewDateChange=new e.vpe}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K))},n.\u0275dir=e.lG2({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),ho=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:i}){return(0,h.p6)(t,"EEEE",i)}monthViewDayNumber({date:t,locale:i}){return(0,h.p6)(t,"d",i)}monthViewTitle({date:t,locale:i}){return(0,h.p6)(t,"LLLL y",i)}weekViewColumnHeader({date:t,locale:i}){return(0,h.p6)(t,"EEEE",i)}weekViewColumnSubHeader({date:t,locale:i}){return(0,h.p6)(t,"MMM d",i)}weekViewTitle({date:t,locale:i,weekStartsOn:r,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:c}=kt(this.dateAdapter,t,r,o,s),d=(u,p)=>(0,h.p6)(u,"MMM d"+(p?", yyyy":""),i);return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:t,locale:i}){return(0,h.p6)(t,"h a",i)}dayViewHour({date:t,locale:i}){return(0,h.p6)(t,"h a",i)}dayViewTitle({date:t,locale:i}){return(0,h.p6)(t,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(K))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n extends ho{}return n.\u0275fac=function(){let a;return function(i){return(a||(a=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t,i){this.dateFormatter=t,this.locale=i}transform(t,i,r=this.locale,o=0,s=[],l){if(typeof this.dateFormatter[i]>"u"){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(Ge.prototype)).filter(d=>"constructor"!==d);throw new Error(`${i} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[i]({date:t,locale:r,weekStartsOn:o,excludeDays:s,daysInWeek:l})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ge,16),e.Y36(e.soG,16))},n.\u0275pipe=e.Yjl({name:"calendarDate",type:n,pure:!0}),n})(),je=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return function ii(n,a){var t=a.events,i=void 0===t?[]:t,r=a.viewDate,o=a.weekStartsOn,s=a.excluded,l=void 0===s?[]:s,c=a.viewStart,d=void 0===c?n.startOfMonth(r):c,u=a.viewEnd,p=void 0===u?n.endOfMonth(r):u,g=a.weekendDays;i||(i=[]);for(var E,y=n.endOfWeek,T=n.differenceInDays,C=n.startOfDay,b=n.addHours,S=n.endOfDay,D=n.isSameMonth,M=n.getDay,L=(0,n.startOfWeek)(d,{weekStartsOn:o}),R=y(p,{weekStartsOn:o}),Y=be(n,{events:i,periodStart:L,periodEnd:R}),O=[],A=function(It){var V;if(E?(V=C(b(E,24)),E.getTime()===V.getTime()&&(V=C(b(E,25))),E=V):V=E=L,!l.some(function(Pt){return M(V)===Pt})){var _e=$t(n,{date:V,weekendDays:g}),J=be(n,{events:Y,periodStart:C(V),periodEnd:S(V)});_e.inMonth=D(V,r),_e.events=J,_e.badgeTotal=J.length,O.push(_e)}},v=0;v<T(R,L)+1;v++)A();var f=[],N=7-l.length;if(N<7)for(v=0;v<O.length;v+=N){var Z=O.slice(v,v+N);Z.some(function(V){return d<=V.date&&V.date<p})&&(f=ot(ot([],f,!0),Z,!0))}else f=O;var Yt=Math.floor(f.length/N),tt=[];for(v=0;v<Yt;v++)tt.push(v*N);return{rowOffsets:tt,totalDaysVisibleInWeek:N,days:f,period:{start:f[0].date,end:S(f[f.length-1].date),events:Y}}}(this.dateAdapter,t)}getWeekViewHeader(t){return dt(this.dateAdapter,t)}getWeekView(t){return function ai(n,a){var t=a.events,i=void 0===t?[]:t,r=a.viewDate,o=a.weekStartsOn,s=a.excluded,l=void 0===s?[]:s,c=a.precision,d=void 0===c?"days":c,u=a.absolutePositionedEvents,p=void 0!==u&&u,g=a.hourSegments,m=a.hourDuration,y=a.dayStart,T=a.dayEnd,C=a.weekendDays,b=a.segmentHeight,S=a.minimumEventHeight,D=a.viewStart,M=void 0===D?n.startOfWeek(r,{weekStartsOn:o}):D,L=a.viewEnd,R=void 0===L?n.endOfWeek(r,{weekStartsOn:o}):L;i||(i=[]);var O=n.endOfDay,E=be(n,{events:i,periodStart:M=(0,n.startOfDay)(M),periodEnd:R=O(R)}),A=dt(n,{viewDate:r,weekStartsOn:o,excluded:l,weekendDays:C,viewStart:M,viewEnd:R});return{allDayEventRows:ti(n,{events:E,excluded:l,precision:d,absolutePositionedEvents:p,viewStart:M,viewEnd:R}),period:{events:E,start:A[0].date,end:O(A[A.length-1].date)},hourColumns:ni(n,{events:i,viewDate:r,hourSegments:g,hourDuration:m,dayStart:y,dayEnd:T,weekStartsOn:o,excluded:l,weekendDays:C,segmentHeight:b,viewStart:M,viewEnd:R,minimumEventHeight:S})}}(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(K))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();new e.OlP("Moment");var Q=(()=>{return(n=Q||(Q={})).Drag="drag",n.Drop="drop",n.Resize="resize",Q;var n})();let Ae=(()=>{class n{static forRoot(t,i={}){return{ngModule:n,providers:[t,i.eventTitleFormatter||bt,i.dateFormatter||Ge,i.utils||je,i.a11y||$e]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[h.Gx],imports:[h.ez]}),n})(),fo=(()=>{class n{constructor(){this.highlightDay=new e.vpe,this.unhighlightDay=new e.vpe,this.eventClicked=new e.vpe,this.trackByEventId=Tn,this.validateDrag=Mt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,i){2&t&&e.ekj("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(t,i){if(1&t&&(e.YNc(0,Xi,8,14,"ng-template",null,0,e.W1O),e.YNc(2,Ki,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.rFY(2,er,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[h.mk,h.sg,h.O5,h.tP,h.PC,Ct,_n,de,Me,xt,ce],encapsulation:2}),n})();const vo=(0,j.X$)("collapse",[(0,j.SB)("void",(0,j.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,j.SB)("*",(0,j.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,j.eR)("* => void",(0,j.jt)("150ms ease-out")),(0,j.eR)("void => *",(0,j.jt)("150ms ease-in"))]);let go=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new e.vpe,this.trackByEventId=Tn,this.validateDrag=Mt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(t,i){if(1&t&&(e.YNc(0,ir,1,1,"ng-template",null,0,e.W1O),e.YNc(2,rr,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.qbA(2,or,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[h.mk,h.sg,h.O5,h.tP,h.PC,Ct,gn,yn,de,Qe,ce],encapsulation:2,data:{animation:[vo]}}),n})(),yo=(()=>{class n{constructor(){this.columnHeaderClicked=new e.vpe,this.trackByWeekDayHeaderDate=St}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(t,i){if(1&t&&(e.YNc(0,lr,2,2,"ng-template",null,0,e.W1O),e.YNc(2,dr,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.kEZ(2,cr,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[h.mk,h.sg,h.tP,Me],encapsulation:2}),n})(),_o=(()=>{class n{constructor(t,i,r,o){this.cdr=t,this.utils=i,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new e.vpe,this.dayClicked=new e.vpe,this.eventClicked=new e.vpe,this.columnHeaderClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.trackByRowOffset=(s,l)=>this.view.days.slice(l,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(s,l)=>l.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const i=t.viewDate||t.excludeDays||t.weekendDays,r=t.viewDate||t.events||t.excludeDays||t.weekendDays;i&&this.refreshHeader(),t.events&&wn(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,i){this.view.days.forEach(r=>{i&&r.events.indexOf(t)>-1?r.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(t,i,r){if(t!==r){const o=this.dateAdapter.getYear(t.date),s=this.dateAdapter.getMonth(t.date),l=this.dateAdapter.getDate(t.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,o),s),l);let d;if(i.end){const u=this.dateAdapter.differenceInSeconds(c,i.start);d=this.dateAdapter.addSeconds(i.end,u)}this.eventTimesChanged.emit({event:i,newStart:c,newEnd:d,day:t,type:Q.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,t));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(je),e.Y36(e.soG),e.Y36(K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[e.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-month-view-header",1),e.NdJ("columnHeaderClicked",function(o){return i.columnHeaderClicked.emit(o)}),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,mr,5,13,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),e.xp6(2),e.Q6J("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[h.mk,h.sg,h.PC,Dt,de,Qe,fo,go,yo,h.OU,ce],encapsulation:2}),n})(),xn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,Ue,Ae,Ue]}),n})();class wo{constructor(a,t){this.dragContainerElement=a,this.startPosition=t.getBoundingClientRect()}validateDrag({x:a,y:t,snapDraggedEvents:i,dragAlreadyMoved:r,transform:o}){const s=Mt({x:a,y:t})||r;if(i){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){const c=this.dragContainerElement.getBoundingClientRect(),d=c.top<l.top&&l.top<c.bottom,u=c.top<l.bottom&&l.bottom<c.bottom;return Cn(c,l)&&(d||u)}return!1}return s}}class Co{constructor(a,t,i){this.resizeContainerElement=a,this.minWidth=t,this.rtl=i}validateResize({rectangle:a,edges:t}){return this.rtl&&(typeof t.left<"u"?(a.left-=t.left,a.right+=t.left):typeof t.right<"u"&&(a.left+=t.right,a.right-=t.right),a.width=a.right-a.left),!(this.minWidth&&Math.ceil(a.width)<Math.ceil(this.minWidth))&&function to(n,a){return Cn(n,a)&&function eo(n,a){return Math.floor(n.top)<=Math.ceil(a.top)&&Math.floor(a.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(a.bottom)&&Math.floor(a.bottom)<=Math.ceil(n.bottom)}(n,a)}(this.resizeContainerElement.getBoundingClientRect(),a)}}let Do=(()=>{class n{constructor(){this.dayHeaderClicked=new e.vpe,this.eventDropped=new e.vpe,this.dragEnter=new e.vpe,this.trackByWeekDayHeaderDate=St}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(t,i){if(1&t&&(e.YNc(0,hr,2,2,"ng-template",null,0,e.W1O),e.YNc(2,fr,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.HTZ(2,vr,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},dependencies:[h.mk,h.sg,h.tP,Dt,de,Me],encapsulation:2}),n})(),To=(()=>{class n{constructor(){this.eventClicked=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,i){if(1&t&&(e.YNc(0,yr,6,27,"ng-template",null,0,e.W1O),e.YNc(2,_r,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.rFY(2,wr,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},dependencies:[h.tP,h.PC,gn,yn,_n,de,Qe,xt,ce],encapsulation:2}),n})(),bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,i){if(1&t&&(e.YNc(0,Dr,3,13,"ng-template",null,0,e.W1O),e.YNc(2,Tr,0,0,"ng-template",1)),2&t){const r=e.MAs(1);e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.qbA(2,br,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},dependencies:[h.mk,h.O5,h.tP,Me,ce],encapsulation:2}),n})(),xo=(()=>{class n{constructor(t,i){this.dateAdapter=t,this.zone=i,this.columnDate$=new W.X(void 0),this.marker$=this.zone.onStable.pipe((0,it.w)(()=>function za(n=0,a=Wa.z){return n<0&&(n=0),(0,Jt.H)(n,n,a)}(6e4)),(0,rt.O)(0),function Ua(n,a){return(0,Ba.m)(a)?(0,it.w)(()=>n,a):(0,it.w)(()=>n)}(this.columnDate$),(0,I.U)(r=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(r,c)&&c>=o&&c<=s,top:this.dateAdapter.differenceInMinutes(c,o)*l}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[e.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,i){if(1&t&&(e.YNc(0,Sr,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Er,0,0,"ng-template",1),e.ALo(3,"async"),e.ALo(4,"async")),2&t){const r=e.MAs(1);let o;e.xp6(2),e.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",e.Hh0(6,kr,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(o=e.lcZ(3,2,i.marker$))?null:o.isVisible,null==(o=e.lcZ(4,4,i.marker$))?null:o.top))}},dependencies:[h.O5,h.tP,h.Ov],encapsulation:2}),n})(),Sn=(()=>{class n{constructor(t,i,r,o,s){this.cdr=t,this.utils=i,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new e.vpe,this.eventClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe,this.hourSegmentClicked=new e.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=St,this.trackByHourSegment=no,this.trackByHour=ao,this.trackByWeekAllDayEvent=io,this.trackByWeekTimeEvent=ro,this.trackByHourColumn=(l,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(l,c)=>c.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const i=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,r=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.hourDuration||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek||t.minimumEventHeight;i&&this.refreshHeader(),t.events&&wn(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(t,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(t,i)}timeEventResizing(t,i){this.timeEventResizes.set(t.event,i);const r=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const c=this.getTimeEventResizedDates(l,s),d={...l,...c};r.set(d,l);const u=o.indexOf(l);o[u]=d}),this.restoreOriginalEvents(o,r,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(t.event);if(i){this.timeEventResizes.delete(t.event);const r=this.getTimeEventResizedDates(t.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:t.event,type:Q.Resize})}}allDayEventResizeStarted(t,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(t,i,this.getDayColumnWidth(t))}allDayEventResizing(t,i,r){const o=this.allDayEventResizes.get(t),s=this.rtl?-1:1;if(typeof i.edges.left<"u"){const l=Math.round(+i.edges.left/r)*s;t.offset=o.originalOffset+l,t.span=o.originalSpan-l}else if(typeof i.edges.right<"u"){const l=Math.round(+i.edges.right/r)*s;t.span=o.originalSpan+l}}allDayEventResizeEnded(t){const i=this.allDayEventResizes.get(t);if(i){const r="left"===i.edge;let o;o=r?t.offset-i.originalOffset:t.span-i.originalSpan,t.offset=i.originalOffset,t.span=i.originalSpan;const s=this.getAllDayEventResizedDates(t.event,o,r);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:t.event,type:Q.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,i,r){(function co(n,a,t,i){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==i||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)})(t,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Q.Drop,event:t.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,i,r,o){this.dayColumnWidth=this.getDayColumnWidth(t);const s=new wo(t,i);this.validateDrag=({x:l,y:c,transform:d})=>{const u=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&s.validateDrag({x:l,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(u&&this.validateEventTimesChanged){const p=this.getDragMovedEventTimes(r,{x:l,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:Q.Drag,event:r.event,newStart:p.start,newEnd:p.end})}return u},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(l=>{const c=l.events.find(d=>d.event===r.event&&d!==r);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(t,i){const r=this.getDragMovedEventTimes(t,i,this.dayColumnWidth,!0),o=t.event,s={...o,...r},l=this.events.map(c=>c===o?s:c);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,i,r,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(t,i,r,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function lo(n,a,t){const i=a||n;return t.start<=n&&n<=t.end||t.start<=i&&i<=t.end}(s,l,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:t.event,type:Q.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays,...kt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit({header:this.days,...this.view})}getWeekView(t){return this.utils.getWeekView({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight,...kt(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)})}getDragMovedEventTimes(t,i,r,o){const s=Dn(i.x,r)/r*(this.rtl?-1:1),l=o?Et(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(U(this.dateAdapter,t.event.start,s,this.excludeDays),l);let d;return t.event.end&&(d=this.dateAdapter.addMinutes(U(this.dateAdapter,t.event.end,s,this.excludeDays),l)),{start:c,end:d}}restoreOriginalEvents(t,i,r=!0){const o=this.view;r&&(this.view=this.getWeekView(t));const s=t.filter(l=>i.has(l));this.view.hourColumns.forEach((l,c)=>{o.hourColumns[c].hours.forEach((d,u)=>{d.segments.forEach((p,g)=>{l.hours[u].segments[g].cssClass=p.cssClass})}),s.forEach(d=>{const u=i.get(d),p=l.events.find(g=>g.event===(r?d:u));p?(p.event=u,p.tempEvent=d,r||(p.height=0,p.width=0)):l.events.push({event:u,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),i.clear()}getTimeEventResizedDates(t,i){const r={start:t.start,end:bn(this.dateAdapter,t,this.minimumEventHeight)},{end:o,...s}=t,l={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:bn(this.dateAdapter,s,this.minimumEventHeight)},c=this.rtl?-1:1;if(typeof i.edges.left<"u"){const d=Math.round(+i.edges.left/this.dayColumnWidth)*c,u=U(this.dateAdapter,r.start,d,this.excludeDays);r.start=u<l.start?u:l.start}else if(typeof i.edges.right<"u"){const d=Math.round(+i.edges.right/this.dayColumnWidth)*c,u=U(this.dateAdapter,r.end,d,this.excludeDays);r.end=u>l.end?u:l.end}if(typeof i.edges.top<"u"){const d=Et(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(r.start,d);r.start=u<l.start?u:l.start}else if(typeof i.edges.bottom<"u"){const d=Et(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(r.end,d);r.end=u>l.end?u:l.end}return r}resizeStarted(t,i,r){this.dayColumnWidth=this.getDayColumnWidth(t);const o=new Co(t,r,this.rtl);this.validateResize=({rectangle:s,edges:l})=>{const c=o.validateResize({rectangle:{...s},edges:l});if(c&&this.validateEventTimesChanged){let d;if(r){const u=this.rtl?-1:1;if(typeof l.left<"u"){const p=Math.round(+l.left/r)*u;d=this.getAllDayEventResizedDates(i.event,p,!this.rtl)}else{const p=Math.round(+l.right/r)*u;d=this.getAllDayEventResizedDates(i.event,p,this.rtl)}}else d=this.getTimeEventResizedDates(i.event,{rectangle:s,edges:l});return this.validateEventTimesChanged({type:Q.Resize,event:i.event,newStart:d.start,newEnd:d.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(t,i,r){let o=t.start,s=t.end||t.start;return r?o=U(this.dateAdapter,o,i,this.excludeDays):s=U(this.dateAdapter,s,i,this.excludeDays),{start:o,end:s}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(je),e.Y36(e.soG),e.Y36(K),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[e.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),e.NdJ("dayHeaderClicked",function(o){return i.dayHeaderClicked.emit(o)})("eventDropped",function(o){return i.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return i.dateDragEnter(o.date)}),e.qZA(),e.YNc(2,Ir,6,5,"div",2),e.TgZ(3,"div",3),e.NdJ("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),e.YNc(4,Fr,2,2,"div",4),e.TgZ(5,"div",5,6),e.YNc(7,Xr,5,13,"div",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.view.allDayEventRows.length>0),e.xp6(2),e.Q6J("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),e.xp6(1),e.ekj("cal-resize-active",i.timeEventResizes.size>0),e.xp6(2),e.Q6J("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},dependencies:[h.mk,h.sg,h.O5,h.tP,mn,Zi,Ct,Dt,de,Do,To,bo,xo],encapsulation:2}),n})(),At=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,pn,Ue,Ae,pn,Ue]}),n})(),So=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new e.vpe,this.hourSegmentClicked=new e.vpe,this.eventTimesChanged=new e.vpe,this.beforeViewRender=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(t,i){1&t&&(e.TgZ(0,"mwl-calendar-week-view",0),e.NdJ("eventClicked",function(o){return i.eventClicked.emit(o)})("hourSegmentClicked",function(o){return i.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return i.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return i.beforeViewRender.emit(o)}),e.qZA()),2&t&&e.Q6J("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("resizeCursors",i.resizeCursors)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},dependencies:[Sn],encapsulation:2}),n})(),Ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,Ae,At]}),n})(),Eo=(()=>{class n{static forRoot(t,i={}){return{ngModule:n,providers:[t,i.eventTitleFormatter||bt,i.dateFormatter||Ge,i.utils||je,i.a11y||$e]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ae,xn,At,Ot,Ae,xn,At,Ot]}),n})();var ko=w(76076),Lt=w(28255);function Mo(n,a){if(1&n&&(e.TgZ(0,"span",34),e._uU(1),e.qZA()),2&n){const t=e.oxw().day;e.xp6(1),e.Oqu(t.badgeTotal)}}function Ao(n,a){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,Mo,2,1,"span",30),e.TgZ(2,"span",31),e._uU(3),e.ALo(4,"calendarDate"),e.qZA()(),e.TgZ(5,"small",32),e._uU(6,"Le total de RTT est "),e.TgZ(7,"small",33),e._uU(8),e.qZA()()),2&n){const t=a.day,i=a.locale,r=e.oxw();e.xp6(1),e.Q6J("ngIf",t.badgeTotal>0),e.xp6(2),e.Oqu(e.Dn7(4,3,t.date,"monthViewDayNumber",i)),e.xp6(5),e.Oqu(r.RTTValide(t))}}function Oo(n,a){if(1&n&&e._UZ(0,"mwl-calendar-month-view",35),2&n){const t=e.oxw(),i=e.MAs(42);e.Q6J("viewDate",t.viewDate)("events",t.events)("cellTemplate",i)("locale",t.locale)}}function Lo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view",36),e.NdJ("eventTimesChanged",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(r))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)}}function Ho(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-day-view",36),e.NdJ("eventTimesChanged",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.eventTimesChanged(r))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)}}(0,h.qS)(ko.Z);class Oe{constructor(a,t){this.data=a,this.leaveService=t,this.viewDate=new Date,this.calendarVisible=!1,this.view=X.Month,this.CalendarView=X,this.ListColabNonValid=[],this.fineshedCalculRTT=new W.X(null),this.fineshedGetNotValid=new W.X(null),this.fineshedFilter=new W.X(null),this.fineshedRemplissage=new W.X(null),this.activeDayIsOpen=!0,this.rttList=[],this.rtt=0,this.Collaborators=[],this.currentRTT=0}ngOnInit(){this.currentCollaborator=this.data.dataKey;const a=this.formatDate(new Date(this.viewDate));this.getRttByCollaborator(this.data.dataKey,a)}getRttByCollaborator(a,t){this.currenthistory=a.rtthistory,this.leaveService.getRttByCollaborator(a.uuid,t).subscribe(i=>{this.currentRTT=i})}formatDate(a){return[a.getFullYear(),this.padTo2Digits(a.getMonth()+1),this.padTo2Digits(a.getDate())].join("-")+" "}padTo2Digits(a){return a.toString().padStart(2,"0")}setView(a){this.view=a}RTTValide(a){let t=0;const i=this.formatDate(new Date(Date.parse(a.date)));return this.currenthistory.map(r=>{Math.round(Date.parse(i)/864e5)-Math.round(Date.parse(r.entry_date)/864e5)==0&&(t=r.rtt)}),t}openMonthViewDay(a){const t=this.formatDate(new Date(Date.parse(a)));this.leaveService.getRttByCollaborator(this.currentCollaborator.uuid,t).subscribe(i=>{this.currentRTT=i}),this.activeDayIsOpen=!1}}Oe.\u0275fac=function(a){return new(a||Oe)(e.Y36($.WI),e.Y36(re.t))},Oe.\u0275cmp=e.Xpm({type:Oe,selectors:[["app-historique-rtt"]],decls:47,vars:22,consts:[[1,"lg:flex","lg:h-full","lg:flex-col"],[1,"text-2xl","font-semibold","text-gray-900","mb-8","ml-3"],[1,"text-2xl","font-bold","text-orange-300"],[1,"relative","z-20","flex","items-center","justify-between","border-b","border-gray-200","py-4","px-6","lg:flex-none"],[1,"text-lg","font-semibold","text-gray-900"],[1,"uppercase"],[1,"flex","items-center"],[1,"flex","items-center","rounded-md","shadow-sm","md:items-stretch"],["type","button","mwlCalendarPreviousView","",1,"flex","items-center","justify-center","rounded-l-md","border","border-r-0","border-gray-300","bg-white","py-2","pl-3","pr-4","text-gray-400","hover:text-gray-500","focus:relative","md:w-9","md:px-2","md:hover:bg-gray-50",3,"view","viewDate","viewDateChange"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule","evenodd"],["type","button","mwlCalendarToday","",1,"hidden","border-t","border-b","border-gray-300","bg-white","px-3.5","text-sm","font-medium","text-gray-700","hover:bg-gray-50","hover:text-gray-900","focus:relative","md:block",3,"viewDate","viewDateChange"],[1,"relative","-mx-px","h-5","w-px","bg-gray-300","md:hidden"],["type","button","mwlCalendarNextView","",1,"flex","items-center","justify-center","rounded-r-md","border","border-l-0","border-gray-300","bg-white","py-2","pl-4","pr-3","text-gray-400","hover:text-gray-500","focus:relative","md:w-9","md:px-2","md:hover:bg-gray-50",3,"view","viewDate","viewDateChange"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"ml-6","h-6","w-px","bg-gray-300"],[1,"hidden","md:ml-4","md:flex","md:items-center"],[1,"relative"],["type","button",1,"flex","items-center","rounded-md","border","border-gray-300","bg-white","py-2","pl-3","pr-2","text-sm","font-medium","text-gray-700","shadow-sm","hover:bg-gray-50",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"ml-2","h-5","w-5","text-gray-400"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],["summaryMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"shadow","ring-1","ring-black","ring-opacity-5","lg:flex","lg:flex-auto","lg:flex-col"],["customCellTemplate",""],[3,"ngSwitch"],[3,"viewDate","events","cellTemplate","locale",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventTimesChanged",4,"ngSwitchCase"],[1,"cal-cell-top"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],[1,"text-sm","font-semibold","text-inherit","ml-2"],[1,"text-lg","font-semibold","text-orange-300","ml-2"],[1,"cal-day-badge"],[3,"viewDate","events","cellTemplate","locale"],[3,"viewDate","events","refresh","eventTimesChanged"]],template:function(a,t){if(1&a&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Historiques RTT: "),e.TgZ(3,"small",2),e._uU(4),e.qZA()(),e.TgZ(5,"header",3)(6,"h1",4)(7,"h3",5),e._uU(8),e.ALo(9,"calendarDate"),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"button",8),e.NdJ("viewDateChange",function(r){return t.viewDate=r})("viewDateChange",function(){return t.openMonthViewDay(t.viewDate)}),e.TgZ(13,"span",9),e._uU(14,"Previous month"),e.qZA(),e.O4$(),e.TgZ(15,"svg",10),e._UZ(16,"path",11),e.qZA()(),e.kcU(),e.TgZ(17,"button",12),e.NdJ("viewDateChange",function(r){return t.viewDate=r})("viewDateChange",function(){return t.openMonthViewDay(t.viewDate)}),e._uU(18,"Aujourd'hui"),e.qZA(),e._UZ(19,"span",13),e.TgZ(20,"button",14),e.NdJ("viewDateChange",function(r){return t.viewDate=r})("viewDateChange",function(){return t.openMonthViewDay(t.viewDate)}),e.TgZ(21,"span",9),e._uU(22,"Next month"),e.qZA(),e.O4$(),e.TgZ(23,"svg",10),e._UZ(24,"path",15),e.qZA()()(),e.kcU(),e._UZ(25,"div",16),e.TgZ(26,"div",17)(27,"div",18)(28,"button",19),e._uU(29," Vue Mensuelle "),e.O4$(),e.TgZ(30,"svg",20),e._UZ(31,"path",21),e.qZA()(),e.kcU(),e.TgZ(32,"mat-menu",null,22)(34,"button",23),e.NdJ("click",function(){return t.setView(t.CalendarView.Month)}),e._uU(35,"Mois"),e.qZA(),e.TgZ(36,"button",23),e.NdJ("click",function(){return t.setView(t.CalendarView.Week)}),e._uU(37,"Semaine"),e.qZA(),e.TgZ(38,"button",23),e.NdJ("click",function(){return t.setView(t.CalendarView.Day)}),e._uU(39,"Jour"),e.qZA()()()()()(),e.TgZ(40,"div",24),e.YNc(41,Ao,9,7,"ng-template",null,25,e.W1O),e.TgZ(43,"div",26),e.YNc(44,Oo,1,4,"mwl-calendar-month-view",27),e.YNc(45,Lo,1,3,"mwl-calendar-week-view",28),e.YNc(46,Ho,1,3,"mwl-calendar-day-view",28),e.qZA()()()),2&a){const i=e.MAs(33);e.xp6(4),e.hij(" ",t.currentRTT,""),e.xp6(4),e.Oqu(e.Dn7(9,18,t.viewDate,t.view+"ViewTitle","fr")),e.xp6(4),e.Q6J("view",t.view)("viewDate",t.viewDate),e.xp6(5),e.Q6J("viewDate",t.viewDate),e.xp6(3),e.Q6J("view",t.view)("viewDate",t.viewDate),e.xp6(8),e.Q6J("matMenuTriggerFor",i),e.xp6(6),e.ekj("active",t.view===t.CalendarView.Month),e.xp6(2),e.ekj("active",t.view===t.CalendarView.Week),e.xp6(2),e.ekj("active",t.view===t.CalendarView.Day),e.xp6(5),e.Q6J("ngSwitch",t.view),e.xp6(1),e.Q6J("ngSwitchCase",t.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",t.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",t.CalendarView.Day)}},dependencies:[h.O5,h.RF,h.n9,Lt.VK,Lt.OP,Lt.p6,So,uo,mo,po,_o,Sn,Me]});class ue{constructor(){this.importCsvEventPublisher=new W.X("CSV"),this.importCsvHandler=this.importCsvEventPublisher.asObservable(),this.observable=pe.y.create(a=>{this.observer=a}).pipe((0,q.B)())}on(a,t){return this.observable.pipe((0,z.h)(i=>"string"==typeof i?i===a:i.name===a),(0,I.U)(i=>{if("string"!=typeof i)return i})).subscribe(t)}startEvent(a){this.importCsvEventPublisher.next(a)}broadcast(a){this.observer&&this.observer.next(a)}}ue.\u0275fac=function(a){return new(a||ue)},ue.\u0275prov=e.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"});var En=w(48768),kn=w(47957),Mn=w(3848);function Zo(n,a){1&n&&(e.TgZ(0,"th",23),e._uU(1," # "),e.qZA())}function Ro(n,a){if(1&n&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&n){const i=a.index;e.Q6J("formGroup",a.$implicit),e.xp6(1),e.hij(" ",i," ")}}function No(n,a){1&n&&(e.TgZ(0,"th",25),e._uU(1," Heure d'ent\xe9e"),e.qZA())}function Yo(n,a){if(1&n&&(e.TgZ(0,"td",26)(1,"mat-form-field",27),e._UZ(2,"input",28),e.qZA()()),2&n){const t=a.$implicit,i=a.index,r=e.oxw();e.Q6J("formGroup",t),e.xp6(2),e.Q6J("readonly",r.VOForm.get("VORows").value[i].isEditable)}}function Io(n,a){1&n&&(e.TgZ(0,"th",25),e._uU(1," Heure de sortie"),e.qZA())}function Po(n,a){if(1&n&&(e.TgZ(0,"td",26)(1,"mat-form-field",27),e._UZ(2,"input",29),e.qZA()()),2&n){const t=a.$implicit,i=a.index,r=e.oxw();e.Q6J("formGroup",t),e.xp6(2),e.Q6J("readonly",r.VOForm.get("VORows").value[i].isEditable)}}function Vo(n,a){1&n&&e._UZ(0,"tr",30)}function Fo(n,a){1&n&&e._UZ(0,"tr",31)}class Le{constructor(a,t,i,r,o,s){this.fb=a,this._formBuilder=t,this.leaveService=i,this.data=r,this.dialogRef=o,this.toast=s,this.displayedColumns=["#","entree","sortie"]}ngOnInit(){this.VOForm=this._formBuilder.group({VORows:this._formBuilder.array([])}),this.VOForm=this.fb.group({VORows:this.fb.array(this.data.listNonValidPointage.map(a=>this.fb.group({entry_time:[a.entry_time,[k.kI.required,this.validateTimeInput]],exit_time:[a.exit_time,[k.kI.required,this.validateTimeInput]],duration:[a.duration],entry_date:[a.entry_date],month:[a.month],registration_Number:[a.registration_Number],valid:[a.valid]})))}),this.dataSource=new _.by(this.VOForm.get("VORows").controls)}FixInvalidPointage(){console.log(this.VOForm.valid),this.VOForm.valid?this.leaveService.ValiderScore(this.VOForm.get("VORows").value).subscribe(a=>{this.dialogRef.close(this.data.listNonValidPointage[0]),this.toast.success({detail:"Succ\xe8s! Le pointage est corrig\xe9 avec succ\xe8s",duration:5e3})}):this.toast.error({detail:"Erreur ! Le format est invalide ",duration:5e3})}validateTimeInput(a){if("string"!=typeof a.value)return null;const t=a.value.split(":");if(console.log(t),2!==t.length)return{timeInvalid:!0};const i=parseInt(t[0]),r=parseInt(t[1]);return isNaN(i)||isNaN(r)?{timeInvalid:!0}:!(i<0||i>23||r<0||r>59)||null}}Le.\u0275fac=function(a){return new(a||Le)(e.Y36(k.qu),e.Y36(k.qu),e.Y36(re.t),e.Y36($.WI),e.Y36($.so),e.Y36(En.s))},Le.\u0275cmp=e.Xpm({type:Le,selectors:[["app-pointage-reglage-diaglog"]],decls:27,vars:4,consts:[["mat-dialog-content",""],[1,"mt-0","mb-2","p-2","w-100"],[1,"flex","justify-center","mb-2"],["src","assets/imgs/ajout-pencil.svg",1,"w-[45px]","h-[45px]"],[1,"flex","justify-center","mb-4"],[1,"text-black","dark:text-white","font-bold"],[1,"search-div","mt-7","py-5"],[1,"container","mx-5","px-4"],[1,"tab","overflow-x-auto"],["autocomplete","off",3,"formGroup","ngSubmit"],["formArrayName","VORows"],["mat-table","",1,"overflow-x-auto","w-full",3,"dataSource"],["matColumnDef","#"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"formGroup",4,"matCellDef"],["matColumnDef","entree"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",3,"formGroup",4,"matCellDef"],["matColumnDef","sortie"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions","",1,"grid","justify-items-end"],["type","submit",1,"btn-yellow"],["mat-header-cell",""],["mat-cell","",3,"formGroup"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center",3,"formGroup"],[1,"w-[70px]","mt-4"],["matInput","","type","text","formControlName","entry_time",3,"readonly"],["matInput","","type","text","formControlName","exit_time",3,"readonly"],["mat-header-row",""],["mat-row",""]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"label",5),e._uU(6,"Vous \xeatre sur le point de regler le pointage"),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"form",9),e.NdJ("ngSubmit",function(){return t.FixInvalidPointage()}),e.ynx(11,10),e.TgZ(12,"table",11),e.ynx(13,12),e.YNc(14,Zo,2,0,"th",13),e.YNc(15,Ro,2,2,"td",14),e.BQk(),e.ynx(16,15),e.YNc(17,No,2,0,"th",16),e.YNc(18,Yo,3,2,"td",17),e.BQk(),e.ynx(19,18),e.YNc(20,Io,2,0,"th",16),e.YNc(21,Po,3,2,"td",17),e.BQk(),e.YNc(22,Vo,1,0,"tr",19),e.YNc(23,Fo,1,0,"tr",20),e.qZA(),e.BQk(),e.TgZ(24,"div",21)(25,"button",22),e._uU(26,"SAUVEGARDER"),e.qZA()()()()()()()),2&a&&(e.xp6(10),e.Q6J("formGroup",t.VOForm),e.xp6(2),e.Q6J("dataSource",t.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns))},dependencies:[k._Y,k.Fj,k.JJ,k.JL,k.sg,k.u,k.CE,oe.KE,nt.Nt,$.xY,$.H8,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk]});const Wo=["paginator"];function zo(n,a){1&n&&(e.TgZ(0,"th",16),e._uU(1," Nom"),e.qZA())}function Bo(n,a){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.firstname," ")}}function Uo(n,a){1&n&&(e.TgZ(0,"th",16),e._uU(1," Pr\xe9nom"),e.qZA())}function Jo(n,a){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.lastname," ")}}function qo(n,a){1&n&&(e.TgZ(0,"th",16),e._uU(1," Date d'entr\xe9e"),e.qZA())}function Qo(n,a){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.entry_date,"dd/MM/yyyy")," ")}}function $o(n,a){1&n&&(e.TgZ(0,"th",16),e._uU(1," Action "),e.qZA())}function Go(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",18)(1,"img",19),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openReglageDialog(o))}),e.qZA()()}}function jo(n,a){1&n&&e._UZ(0,"tr",20)}function Xo(n,a){1&n&&e._UZ(0,"tr",21)}function Ko(n,a){1&n&&(e.TgZ(0,"div")(1,"div",22),e._uU(2,"Aucune donn\xe9e disponible dans le tableau "),e.qZA(),e._UZ(3,"hr"),e.qZA())}const es=function(){return[5,10,20]};class He{constructor(a,t,i,r){this.eventManagerService=a,this.leaveService=t,this.sirhService=i,this.dialog=r,this.importedCSVHandlerEvent=new e.vpe,this.displayedColumns=["firstname","lastname","date","action"],this.listcollaborators=[],this.fineshedGetNotValid=new W.X(null),this.listColabNonValid=[]}ngOnInit(){this.importCsvHandler(),this.getPointageNonValide()}getPointageNonValide(){this.sirhService.getAllCollaborators().subscribe(a=>{this.leaveService.getPointageNonValide().subscribe(t=>{this.listColabNonValid=t.reduce((i,r)=>{const o=a.find(s=>s.externalMatricule==r.registration_Number);return o&&i.push({entry_date:r.entry_date,registration_Number:r.registration_Number,firstname:o.firstname,lastname:o.lastname}),i},[]),this.listColabNonValid=[...new Set(this.listColabNonValid.map(i=>`${i.entry_date}-${i.registration_Number}`))].map(i=>this.listColabNonValid.find(r=>`${r.entry_date}-${r.registration_Number}`===i)),this.dataSource=new _.by(this.listColabNonValid),this.setPaginator()})})}importCsvHandler(){this.eventManagerService.importCsvHandler.subscribe(a=>{console.log(a),!0===a&&this.getPointageNonValide()})}openReglageDialog(a){this.leaveService.FilterPointageNotValid(a.registration_Number,a.entry_date).subscribe(t=>{this.dialog.open(Le,{data:{listNonValidPointage:t}}).afterClosed().subscribe(r=>{null!==r&&(this.listColabNonValid=this.listColabNonValid.filter(o=>{}),this.dataSource=new _.by(this.listColabNonValid),this.setPaginator())})})}setPaginator(){this.dataSource.paginator=this.paginator}}He.\u0275fac=function(a){return new(a||He)(e.Y36(ue),e.Y36(re.t),e.Y36(we.G),e.Y36($.uw))},He.\u0275cmp=e.Xpm({type:He,selectors:[["app-pointage-non-valid"]],viewQuery:function(a,t){if(1&a&&e.Gf(Wo,5),2&a){let i;e.iGM(i=e.CRH())&&(t.paginator=i.first)}},outputs:{importedCSVHandlerEvent:"importedCSVHandlerEvent"},decls:21,vars:6,consts:[[1,"search-div","mt-7","py-5"],[1,"container","mx-5","px-4"],[1,"tab","overflow-x-auto"],["mat-table","",1,"overflow-x-auto","w-full",3,"dataSource"],["matColumnDef","firstname"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","lastname"],["matColumnDef","date"],["matColumnDef","action"],["mat-cell","","class","text-center w-1",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"overflow-x-auto","w-full",3,"pageSizeOptions"],["paginator",""],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-cell","",1,"text-center","w-1"],["src","./assets/imgs/eye.svg",1,"image-svg","max-w-none","cursor-pointer","ml-1",3,"click"],["mat-header-row",""],["mat-row",""],[1,"text-center","empty","mt-8"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3),e.ynx(4,4),e.YNc(5,zo,2,0,"th",5),e.YNc(6,Bo,2,1,"td",6),e.BQk(),e.ynx(7,7),e.YNc(8,Uo,2,0,"th",5),e.YNc(9,Jo,2,1,"td",6),e.BQk(),e.ynx(10,8),e.YNc(11,qo,2,0,"th",5),e.YNc(12,Qo,3,4,"td",6),e.BQk(),e.ynx(13,9),e.YNc(14,$o,2,0,"th",5),e.YNc(15,Go,2,0,"td",10),e.BQk(),e.YNc(16,jo,1,0,"tr",11),e.YNc(17,Xo,1,0,"tr",12),e.qZA(),e.YNc(18,Ko,4,0,"div",13),e._UZ(19,"mat-paginator",14,15),e.qZA()()()),2&a&&(e.xp6(3),e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===t.listColabNonValid.length),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,es)))},dependencies:[h.O5,Pe.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,h.uU]});const ts=["chart"],ns=["collabRttPaginator"];function as(n,a){if(1&n&&(e.TgZ(0,"mat-option",55),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.firstname+" "+t.lastname," ")}}function is(n,a){if(1&n&&(e.TgZ(0,"div",56),e._UZ(1,"apx-chart",57),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("series",t.chartOptions.series)("chart",t.chartOptions.chart)("dataLabels",t.chartOptions.dataLabels)("plotOptions",t.chartOptions.plotOptions)("yaxis",t.chartOptions.yaxis)("legend",t.chartOptions.legend)("fill",t.chartOptions.fill)("stroke",t.chartOptions.stroke)("tooltip",t.chartOptions.tooltip)("xaxis",t.chartOptions.xaxis)}}function rs(n,a){1&n&&(e.TgZ(0,"div",58)(1,"span",59),e._uU(2,"Choisir un collaborator"),e.qZA(),e.TgZ(3,"div",60),e._UZ(4,"img",61),e.qZA()())}function os(n,a){1&n&&(e.TgZ(0,"th",62),e._uU(1," Nom"),e.qZA())}function ss(n,a){if(1&n&&(e.TgZ(0,"td",63),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.firstname," ")}}function ls(n,a){1&n&&(e.TgZ(0,"th",62),e._uU(1," Pr\xe9nom"),e.qZA())}function ds(n,a){if(1&n&&(e.TgZ(0,"td",63),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.lastname," ")}}function cs(n,a){1&n&&(e.TgZ(0,"th",62),e._uU(1," Historique RTT "),e.qZA())}function us(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",63)(1,"img",64),e.NdJ("click",function(){const o=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.openHistoriqueDialog(o))}),e.qZA()()}}function ms(n,a){1&n&&e._UZ(0,"tr",65)}function ps(n,a){1&n&&e._UZ(0,"tr",66)}function hs(n,a){1&n&&(e.TgZ(0,"div")(1,"div",67),e._uU(2,"Aucune donn\xe9e disponible dans le tableau "),e.qZA(),e._UZ(3,"hr"),e.qZA())}const fs=function(){return[5,10,20]};function vs(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div")(9,"a",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",8),e._UZ(12,"mat-icon",9),e.TgZ(13,"a",10),e._uU(14),e.qZA()()()()(),e.TgZ(15,"div",11)(16,"div",12)(17,"span",13),e._uU(18,"Fichier de Pointage"),e.qZA()(),e.TgZ(19,"div",14)(20,"label",15)(21,"div",16),e._UZ(22,"mat-icon",17),e.TgZ(23,"span",18),e._uU(24,"Importer un fichier"),e.qZA()()(),e.TgZ(25,"button",19,20),e._UZ(27,"mat-icon",21),e.qZA(),e.TgZ(28,"input",22),e.NdJ("change",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelectFile(r))}),e.qZA()()(),e.TgZ(29,"div",23)(30,"div",24)(31,"mat-tab-group")(32,"mat-tab",25)(33,"div",26)(34,"div")(35,"mat-form-field",27)(36,"mat-label"),e._uU(37,"Collaborator"),e.qZA(),e._UZ(38,"input",28),e.TgZ(39,"mat-autocomplete",29,30),e.NdJ("optionSelected",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.selectCollaborator(r))}),e.YNc(41,as,2,2,"mat-option",31),e.ALo(42,"async"),e.qZA()()(),e.TgZ(43,"div")(44,"mat-form-field",27)(45,"mat-label"),e._uU(46,"Entrez une p\xe9riode"),e.qZA(),e.TgZ(47,"mat-date-range-input",32),e._UZ(48,"input",33),e.TgZ(49,"input",34),e.NdJ("dateChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dateRangeChange())}),e.qZA()(),e._UZ(50,"mat-datepicker-toggle",35)(51,"mat-date-range-picker",null,36),e.qZA()()(),e.YNc(53,is,2,10,"div",37),e.YNc(54,rs,5,0,"div",38),e.qZA(),e.TgZ(55,"mat-tab",25)(56,"div",39)(57,"div",40)(58,"div",41)(59,"table",42),e.ynx(60,43),e.YNc(61,os,2,0,"th",44),e.YNc(62,ss,2,1,"td",45),e.BQk(),e.ynx(63,46),e.YNc(64,ls,2,0,"th",44),e.YNc(65,ds,2,1,"td",45),e.BQk(),e.ynx(66,47),e.TgZ(67,"div",48),e.YNc(68,cs,2,0,"th",44),e.YNc(69,us,2,0,"td",45),e.qZA(),e.BQk(),e.YNc(70,ms,1,0,"tr",49),e.YNc(71,ps,1,0,"tr",50),e.qZA(),e.YNc(72,hs,4,0,"div",51),e._UZ(73,"mat-paginator",52,53),e.qZA()()()(),e.TgZ(75,"mat-tab",54),e._UZ(76,"app-pointage-non-valid"),e.qZA()()()()(),e.BQk()}if(2&n){const t=a.$implicit,i=e.MAs(40),r=e.MAs(52),o=e.oxw();e.xp6(6),e.hij(" ",t("leaves.Absence_Et_Pointage")," "),e.xp6(4),e.Oqu(t("leaves.Absence_Et_Pointage")),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(2),e.Oqu(t("leaves.Pointage")),e.xp6(11),e.Q6J("matTooltip",o.infoMessage),e.xp6(7),e.s9C("label",t("leaves.Statistiques")),e.xp6(6),e.Q6J("formControl",o.myControl)("matAutocomplete",i),e.xp6(1),e.Q6J("displayWith",o.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(42,22,o.filteredOptions)),e.xp6(6),e.Q6J("formGroup",o.range)("rangePicker",r),e.xp6(3),e.Q6J("for",r),e.xp6(3),e.Q6J("ngIf",o.loadedData),e.xp6(1),e.Q6J("ngIf",!o.loadedData),e.xp6(1),e.s9C("label",t("leaves.Liste_des_collaborateurs")),e.xp6(4),e.Q6J("dataSource",o.dataSourceCollaborateurs),e.xp6(11),e.Q6J("matHeaderRowDef",o.displayedColumnsCollabRtt),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumnsCollabRtt),e.xp6(1),e.Q6J("ngIf",0===o.listCollaborators.length),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(24,fs)),e.xp6(2),e.s9C("label",t("leaves.Liste_pointage_Non_valider"))}}class Ze{constructor(a,t,i,r,o){this.eventManagerService=a,this.toast=t,this.sirhService=i,this.dialog=r,this.leaveService=o,this.fineshedCalculRTT=new W.X(null),this.displayedColumnsCollabRtt=["firstname","lastname","historique"],this.collaborators=[],this.rttList=[],this.ListColabNonValid=[],this.myControl=new k.NI(""),this.listCollaborators=[],this.loadedData=!1,this.collabRTTList=[],this.collabRTTDurations=[],this.collabRTTDates=[]}ngOnInit(){this.infoMessage="Pour importer votre fichier il faut suivre une structure sp\xe9cifique, t\xe9l\xe9chargez notre template pour en savoir plus en appuyant ici.",this.initData(),this.range=new k.cw({start:new k.NI(null),end:new k.NI(null)}),this.initChart(),this.getCollaborateurRtt()}dateRangeChange(){if(0!=this.collabRTTList.length&&null!=this.range.get("end").value){let a=this.range.get("start").value.toDate().getTime(),t=this.range.get("end").value.toDate().getTime(),i=this.collabRTTList.filter(r=>this.getTime(this.formatDate(r.entry_date))>=a&&this.getTime(this.formatDate(r.entry_date))<=t);this.collabRTTDurations=[],this.collabRTTDates=[],i.forEach(r=>{this.collabRTTDurations.push({x:r.entry_date,y:60*+r.duration.split(":")[0]+ +r.duration.split(":")[1],goals:[{name:"Expected",value:450,strokeWidth:60,strokeColor:"#775DD0"}]}),this.collabRTTDates.push(r.entry_date)}),this.initChart()}}formatDate(a){return new Date(+a.split("-")[0],+a.split("-")[1]-1,+a.split("-")[2])}initData(){this.sirhService.getAllCollaborators().subscribe(a=>{this.listCollaborators=a}),this.filteredOptions=this.myControl.valueChanges.pipe((0,rt.O)(""),(0,I.U)(a=>{const t="string"==typeof a?a:a?.firstname;return t?this._filter(t):this.listCollaborators.slice()}))}displayFn(a){return a?a.firstname+" "+a.lastname:""}importScvEventPublisher(a){this.eventManagerService.startEvent(a)}_filter(a){const t=a.toLowerCase();return this.listCollaborators.filter(i=>i.firstname.toLowerCase().includes(t)||i.lastname.toLowerCase().includes(t))}getTime(a){return null!=a?a.getTime():0}selectCollaborator(a){this.collabRTTDurations=[],this.collabRTTDates=[],this.leaveService.getValidByMatricule(a.option.value.externalMatricule).subscribe(t=>{this.collabRTTList=t,this.collabRTTList.sort((i,r)=>this.getTime(new Date(i.entry_date))-this.getTime(new Date(r.entry_date))),this.collabRTTList.forEach(i=>{this.collabRTTDurations.push({x:i.entry_date,y:60*+i.duration.split(":")[0]+ +i.duration.split(":")[1],goals:[{name:"Expected",value:450,strokeWidth:60,strokeColor:"#775DD0"}]}),this.collabRTTDates.push(i.entry_date)}),this.loadedData=!0,this.initChart()}),(null!=this.range.get("start").value||null!=this.range.get("end").value)&&this.range.reset()}initChart(){this.chartOptions={series:[{name:"RTT",data:this.collabRTTDurations}],chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{labels:{formatter:a=>Math.floor(a/60)+" Heures"}},fill:{opacity:1,colors:["#67B7DC"]},tooltip:{y:{formatter:function(a){return Math.floor(a/60)+" Heures "+a%60+" Minutes"}}}}}downloadFile(){const a=new FormData;a.append("file",this.file),this.leaveService.uploadFilePointage(a).subscribe(t=>{this.initData(),this.toast.success({detail:"Succ\xe8s! Le document de pointage est ajout\xe9e avec succ\xe9s",duration:5e3}),this.getCollaborateurRtt(),this.importScvEventPublisher(!0)},t=>{console.log(t),this.toast.error({detail:"Erreur! V\xe9rifier votre ficiher importer",duration:5e3})})}onSelectFile(a){a.target.files&&a.target.files[0]&&((new FileReader).readAsDataURL(a.target.files[0]),this.file=a.target.files[0],this.downloadFile())}getCollaborateurRtt(){this.sirhService.getAllCollaborators().subscribe(a=>{this.collaborators=a,a.forEach(t=>{this.rttList.push({firstname:t.firstname,lastname:t.lastname,matricule:t.externalMatricule,uuid:t.uuid,rtthistory:[]})}),this.fineshedCalculRTT.next(!0),this.dataSourceCollaborateurs=new _.by(this.rttList),this.setCollaborateurRttPaginator()}),this.fineshedCalculRTT.subscribe(a=>{a&&this.countRtt()})}setCollaborateurRttPaginator(){this.dataSourceCollaborateurs.paginator=this.collabRttPaginator}countRtt(){this.rttList.forEach(a=>{this.leaveService.getValidByMatricule(a.matricule).subscribe(t=>{t.length>0&&(a.rtthistory=t)})})}openHistoriqueDialog(a){this.dialog.open(Oe,{width:"50vw",maxWidth:"50vw",autoFocus:!1,maxHeight:"90vh",data:{dataKey:a}})}}Ze.\u0275fac=function(a){return new(a||Ze)(e.Y36(ue),e.Y36(En.s),e.Y36(we.G),e.Y36($.uw),e.Y36(re.t))},Ze.\u0275cmp=e.Xpm({type:Ze,selectors:[["app-pointage"]],viewQuery:function(a,t){if(1&a&&(e.Gf(ts,5),e.Gf(ns,5)),2&a){let i;e.iGM(i=e.CRH())&&(t.chart=i.first),e.iGM(i=e.CRH())&&(t.collabRttPaginator=i.first)}},decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"title-1"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-secondary"],[1,"grid","grid-cols-1","pl-10","py-5"],[1,"col-span-1","py-2"],[1,"font-bold","text-xl"],[1,"col-span-1","md:col-span-1","items-baseline","my-auto","ml-0"],["for","demo-file",1,"label-button-yellow-plus","cursor-pointer","w-60"],[1,"flex","justify-center","items-center"],["svgIcon","mat_solid:cloud_upload",1,"text-white"],[1,"pl-3"],["matTooltipPosition","right",1,"ml-4",3,"matTooltip"],["tooltip","matTooltip"],["svgIcon","heroicons_outline:exclamation-circle"],["type","file","id","demo-file","name","logo","accept","Csv/*",1,"demo-file",2,"visibility","hidden",3,"change"],[1,"flex-auto","p-6","sm:p-10"],[1,"h-full"],[1,"rtl:rtlsubmenu",3,"label"],[1,"flex","justify-around"],["appearance","outline"],["type","text","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup","rangePicker"],["matStartDate","","placeholder","Date Debut","formControlName","start"],["matEndDate","","placeholder","Date Fin","formControlName","end",3,"dateChange"],["matIconSuffix","",3,"for"],["picker",""],["id","chart",4,"ngIf"],["class","flex flex-col my-2",4,"ngIf"],[1,"search-div","mt-7","py-5"],[1,"container","mx-5","px-4"],[1,"tab","overflow-x-auto"],["mat-table","",1,"overflow-x-auto","w-full",3,"dataSource"],["matColumnDef","firstname"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","lastname"],["matColumnDef","historique"],[1,"md:w-2"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"overflow-x-auto","w-full",3,"pageSizeOptions"],["collabRttPaginator",""],["lass","rtl:rtlsubmenu",3,"label"],[3,"value"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","legend","fill","stroke","tooltip","xaxis"],[1,"flex","flex-col","my-2"],[1,"text-3xl","text-center","my-6"],[1,"flex","justify-center"],["src","assets/imgs/undraw_select.svg",1,"w-4/12"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["src","./assets/imgs/eye.svg",1,"image-svg-eye","max-w-none","h-6","cursor-pointer",3,"click"],["mat-header-row",""],["mat-row",""],[1,"text-center","empty","mt-8"]],template:function(a,t){1&a&&e.YNc(0,vs,77,25,"ng-container",0)},dependencies:[h.sg,h.O5,k.Fj,k.JJ,k.JL,k.oH,k.sg,k.u,kn.XC,zt.ey,kn.ZL,ee.nW,ee.wx,ee.zY,ee.By,ee._g,oe.KE,oe.hX,oe.R9,nt.Nt,Mn.uX,Mn.SP,Ie.Hw,Bt.gM,Pe.NW,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,at.x,Wt.KI,He,h.Ov]});const gs=[{path:"",component:me},{path:"leave-list",component:me},{path:"leave-solde",component:Ce},{path:"leave-historique-collab/:uuid",component:De},{path:"pointage",component:Ze}];class ge{}ge.\u0275fac=function(a){return new(a||ge)},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({imports:[ie.Bz.forChild(gs),ie.Bz]});var ys=w(24300),An=w(70655);function P(n){if(null===n||!0===n||!1===n)return NaN;var a=Number(n);return isNaN(a)?a:a<0?Math.ceil(a):Math.floor(a)}function x(n,a){if(a.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+a.length+" present")}function Xe(n){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function H(n){x(1,arguments);var a=Object.prototype.toString.call(n);return n instanceof Date||"object"===Xe(n)&&"[object Date]"===a?new Date(n.getTime()):"number"==typeof n||"[object Number]"===a?new Date(n):(("string"==typeof n||"[object String]"===a)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ht(n,a){x(2,arguments);var t=H(n),i=P(a);return isNaN(i)?new Date(NaN):(i&&t.setDate(t.getDate()+i),t)}function Zt(n,a){x(2,arguments);var t=H(n).getTime(),i=P(a);return new Date(t+i)}function ws(n,a){x(2,arguments);var t=P(a);return Zt(n,36e5*t)}function Ds(n,a){x(2,arguments);var t=P(a);return Zt(n,6e4*t)}function Ts(n,a){x(2,arguments);var t=P(a);return Zt(n,1e3*t)}function On(n){var a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),n.getTime()-a.getTime()}function Re(n){x(1,arguments);var a=H(n);return a.setHours(0,0,0,0),a}function xs(n,a){x(2,arguments);var t=Re(n),i=Re(a),r=t.getTime()-On(t),o=i.getTime()-On(i);return Math.round((r-o)/864e5)}function Ln(n,a){var t=n.getFullYear()-a.getFullYear()||n.getMonth()-a.getMonth()||n.getDate()-a.getDate()||n.getHours()-a.getHours()||n.getMinutes()-a.getMinutes()||n.getSeconds()-a.getSeconds()||n.getMilliseconds()-a.getMilliseconds();return t<0?-1:t>0?1:t}function Ss(n,a){x(2,arguments);var t=H(n),i=H(a),r=Ln(t,i),o=Math.abs(xs(t,i));t.setDate(t.getDate()-r*o);var s=Number(Ln(t,i)===-r),l=r*(o-s);return 0===l?0:l}function Zn(n,a){return x(2,arguments),H(n).getTime()-H(a).getTime()}Math.pow(10,8);var Rn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(a){return a<0?Math.ceil(a):Math.floor(a)}};function Nn(n){return n?Rn[n]:Rn.trunc}function Zs(n,a,t){x(2,arguments);var i=Zn(n,a)/6e4;return Nn(t?.roundingMethod)(i)}function Rs(n,a,t){x(2,arguments);var i=Zn(n,a)/1e3;return Nn(t?.roundingMethod)(i)}function Ns(n){x(1,arguments);var a=H(n);return a.setHours(23,59,59,999),a}function Ys(n){x(1,arguments);var a=H(n),t=a.getMonth();return a.setFullYear(a.getFullYear(),t+1,0),a.setHours(23,59,59,999),a}var Yn={};function In(){return Yn}function Is(n,a){var t,i,r,o,s,l,c,d;x(1,arguments);var u=In(),p=P(null!==(t=null!==(i=null!==(r=null!==(o=a?.weekStartsOn)&&void 0!==o?o:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:u.weekStartsOn)&&void 0!==i?i:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=H(n),m=g.getDay(),y=6+(m<p?-7:0)-(m-p);return g.setDate(g.getDate()+y),g.setHours(23,59,59,999),g}function Ps(n){x(1,arguments);var a=H(n),t=a.getDay();return t}function Vs(n){x(1,arguments);var a=H(n),t=a.getMonth();return t}function Fs(n,a){x(2,arguments);var t=Re(n),i=Re(a);return t.getTime()===i.getTime()}function Ws(n,a){x(2,arguments);var t=H(n),i=H(a);return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()}function Pn(n){x(1,arguments);var a=H(n);return a.setMilliseconds(0),a}function zs(n,a){x(2,arguments);var t=Pn(n),i=Pn(a);return t.getTime()===i.getTime()}function Ke(n){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function Bs(n){var a,t;if(x(1,arguments),n&&"function"==typeof n.forEach)a=n;else{if("object"!==Ke(n)||null===n)return new Date(NaN);a=Array.prototype.slice.call(n)}return a.forEach(function(i){var r=H(i);(void 0===t||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Us(n,a){x(2,arguments);var t=H(n),i=P(a);return t.setHours(i),t}function Js(n,a){x(2,arguments);var t=H(n),i=P(a);return t.setMinutes(i),t}function qs(n){x(1,arguments);var a=H(n);return a.setSeconds(0,0),a}function Qs(n){x(1,arguments);var a=H(n);return a.setDate(1),a.setHours(0,0,0,0),a}function Vn(n,a){var t,i,r,o,s,l,c,d;x(1,arguments);var u=In(),p=P(null!==(t=null!==(i=null!==(r=null!==(o=a?.weekStartsOn)&&void 0!==o?o:null==a||null===(s=a.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:u.weekStartsOn)&&void 0!==i?i:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=H(n),m=g.getDay(),y=(m<p?7:0)+m-p;return g.setDate(g.getDate()-y),g.setHours(0,0,0,0),g}function $s(n){x(1,arguments);var a=H(n),t=a.getHours();return t}function Gs(n){x(1,arguments);var a=H(n),t=a.getMinutes();return t}function js(n){return new Date(n).getTimezoneOffset()}function Fn(n,a){x(2,arguments);var t=P(a),i=7*t;return Ht(n,i)}function Wn(n,a){x(2,arguments);var t=H(n),i=P(a);if(isNaN(i))return new Date(NaN);if(!i)return t;var r=t.getDate(),o=new Date(t.getTime());o.setMonth(t.getMonth()+i+1,0);var s=o.getDate();return r>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),r),t)}function Ks(n,a){x(2,arguments);var t=P(a);return Ht(n,-t)}function el(n,a){x(2,arguments);var t=P(a);return Fn(n,-t)}function tl(n,a){x(2,arguments);var t=P(a);return Wn(n,-t)}function et(n){return x(1,arguments),Vn(n,{weekStartsOn:1})}function nl(n){x(1,arguments);var a=H(n),t=a.getFullYear(),i=new Date(0);i.setFullYear(t+1,0,4),i.setHours(0,0,0,0);var r=et(i),o=new Date(0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);var s=et(o);return a.getTime()>=r.getTime()?t+1:a.getTime()>=s.getTime()?t:t-1}function al(n){x(1,arguments);var a=nl(n),t=new Date(0);t.setFullYear(a,0,4),t.setHours(0,0,0,0);var i=et(t);return i}var il=6048e5;function rl(n){x(1,arguments);var a=H(n),t=et(a).getTime()-al(a).getTime();return Math.round(t/il)+1}function ol(n,a){x(2,arguments);var t=H(n),i=P(a);return t.setDate(i),t}function sl(n){x(1,arguments);var a=H(n),t=a.getFullYear(),i=a.getMonth(),r=new Date(0);return r.setFullYear(t,i+1,0),r.setHours(0,0,0,0),r.getDate()}function ll(n,a){x(2,arguments);var t=H(n),i=P(a),r=t.getFullYear(),o=t.getDate(),s=new Date(0);s.setFullYear(r,i,15),s.setHours(0,0,0,0);var l=sl(s);return t.setMonth(i,Math.min(o,l)),t}function dl(n,a){x(2,arguments);var t=H(n),i=P(a);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(i),t)}function cl(n){x(1,arguments);var a=H(n),t=a.getDate();return t}function ul(n){return x(1,arguments),H(n).getFullYear()}var pl={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}};function Rt(n){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.width?String(a.width):n.defaultWidth,i=n.formats[t]||n.formats[n.defaultWidth];return i}}const wl={date:Rt({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Rt({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Rt({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Cl={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"};function Ne(n){return function(a,t){var r;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,s=null!=t&&t.width?String(t.width):o;r=n.formattingValues[s]||n.formattingValues[o]}else{var l=n.defaultWidth,c=null!=t&&t.width?String(t.width):n.defaultWidth;r=n.values[c]||n.values[l]}return r[n.argumentCallback?n.argumentCallback(a):a]}}var Al={ordinalNumber:function(a,t){var i=Number(a),r=t?.unit;return 0===i?"0":i+(1===i?r&&["year","week","hour","minute","second"].includes(r)?"\xe8re":"er":"\xe8me")},era:Ne({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:Ne({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:function(a){return a-1}}),month:Ne({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:Ne({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:Ne({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})};const Ol=Al;function Ye(n){return function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=a.match(r);if(!o)return null;var d,s=o[0],l=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(l)?Hl(l,function(p){return p.test(s)}):Ll(l,function(p){return p.test(s)});d=n.valueCallback?n.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;var u=a.slice(s.length);return{value:d,rest:u}}}function Ll(n,a){for(var t in n)if(n.hasOwnProperty(t)&&a(n[t]))return t}function Hl(n,a){for(var t=0;t<n.length;t++)if(a(n[t]))return t}var ql={ordinalNumber:function Zl(n){return function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.match(n.matchPattern);if(!i)return null;var r=i[0],o=a.match(n.parsePattern);if(!o)return null;var s=n.valueCallback?n.valueCallback(o[0]):o[0];s=t.valueCallback?t.valueCallback(s):s;var l=a.slice(r.length);return{value:s,rest:l}}}({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:function(a){return parseInt(a)}}),era:Ye({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:Ye({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:Ye({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ye({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ye({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})};const $l={code:"fr",formatDistance:function(a,t,i){var r,o=pl[a];return r="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",String(t)),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"dans "+r:"il y a "+r:r},formatLong:wl,formatRelative:function(a,t,i,r){return Cl[a]},localize:Ol,match:ql,options:{weekStartsOn:1,firstWeekContainsDate:4}};class ye{}ye.\u0275fac=function(a){return new(a||ye)},ye.\u0275mod=e.oAB({type:ye}),ye.\u0275inj=e.cJS({providers:[h.uU,{provide:e.soG,useValue:"fr"},{provide:"locale",useValue:$l}],imports:[ge,h.ez,ys.m,Wt.y4,Ot,Eo.forRoot({provide:K,useFactory:function ml(){return(0,An.pi)((0,An.pi)({},function Xs(){return{addDays:Ht,addHours:ws,addMinutes:Ds,addSeconds:Ts,differenceInDays:Ss,differenceInMinutes:Zs,differenceInSeconds:Rs,endOfDay:Ns,endOfMonth:Ys,endOfWeek:Is,getDay:Ps,getMonth:Vs,isSameDay:Fs,isSameMonth:Ws,isSameSecond:zs,max:Bs,setHours:Us,setMinutes:Js,startOfDay:Re,startOfMinute:qs,startOfMonth:Qs,startOfWeek:Vn,getHours:$s,getMinutes:Gs,getTimezoneOffset:js}}()),{addWeeks:Fn,addMonths:Wn,subDays:Ks,subWeeks:el,subMonths:tl,getISOWeek:rl,setDate:ol,setMonth:ll,setYear:dl,getDate:cl,getYear:ul})}}),at.X]})}}]);