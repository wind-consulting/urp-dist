"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[917],{62917:(P,p,n)=>{n.r(p),n.d(p,{AuthSignInModule:()=>m});var u=n(30144),d=n(4859),f=n(56709),a=n(59549),h=n(97392),v=n(284),I=n(51572),x=n(85804),Z=n(77775),A=n(24300),s=n(24006),y=n(28288),e=n(94650),b=n(88951),T=n(37495),C=n(36895),S=n(57408);const U=["signInNgForm"];function F(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Email address is required "),e.qZA())}function J(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function N(t,o){1&t&&e._UZ(0,"mat-icon",32),2&t&&e.Q6J("svgIcon","heroicons_solid:eye")}function Q(t,o){1&t&&e._UZ(0,"mat-icon",32),2&t&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function M(t,o){1&t&&(e.TgZ(0,"span"),e._uU(1," Se Connecter "),e.qZA())}function R(t,o){1&t&&e._UZ(0,"mat-progress-spinner",33),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}const w=function(){return["/home"]},L=function(){return["/sign-up"]},E=function(){return["/forgot-password"]};class l{constructor(o,i,r,c,g){this._activatedRoute=o,this._authService=i,this._userService=r,this._formBuilder=c,this._router=g,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.signInForm=this._formBuilder.group({username:["",[s.kI.required,s.kI.email]],password:["",s.kI.required],rememberMe:[""]})}signIn(){this.signInForm.invalid||(this.signInForm.disable(),this.showAlert=!1,this._authService.signIn(this.signInForm.value).subscribe({next:o=>{let i;"ROLE_USER"===localStorage.getItem("role")?i=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect-employee":"ROLE_ADMIN"===localStorage.getItem("role")&&(i=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect-admin"),this._router.navigateByUrl(i)},error:o=>{this.signInForm.enable(),this.signInNgForm.resetForm(),this.alert={type:"error",message:"Wrong email or password"},this.showAlert=!0}}))}}l.\u0275fac=function(o){return new(o||l)(e.Y36(u.gz),e.Y36(b.e),e.Y36(T.K),e.Y36(s.QS),e.Y36(u.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["auth-sign-in"]],viewQuery:function(o,i){if(1&o&&e.Gf(U,5),2&o){let r;e.iGM(r=e.CRH())&&(i.signInNgForm=r.first)}},decls:57,vars:19,consts:[[1,"px-20","bg-no-repeat","bg-cover",2,"background-image","url('assets/images/signin/signin-background.png')"],[1,"flex","flex-col","place-items-center","mb-30"],[1,"grid","md:grid-cols-2","m-1","gap-y-8"],[1,"mb-10","rounded-lg","p-20","shadow-xl","bg-no-repeat","bg-cover",2,"background-image","url('assets/images/signin/signin-box2.PNG')"],[1,"flex","lg:flex-1"],["href","#",1,"-m-1.5","p-1.5"],["src","./assets/landing/logo.svg","alt","",1,"w-220"],[1,"text-7xl","font-bold","leading-none","mt-15","text-gray-100"],["src","./assets/images/signin/signin-image.png","alt","",1,"w-220","mb-16"],[1,"mb-10","rounded-lg","p-20","shadow-xl","bg-white"],[1,"flex","justify-between"],[1,"inline-flex","items-center","text-yellow-400","text-bold","text-[15px]",3,"routerLink"],[1,"mt-8","text-3xl","mb-3","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-500","underline","mb-10",3,"routerLink"],[3,"formGroup"],["signInNgForm","ngForm"],["appearance","outline",1,"w-full"],["id","email","matInput","",3,"formControlName"],["matPrefix","","svgIcon","heroicons_solid:mail",1,"icon-size-5"],[4,"ngIf"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["matPrefix","","svgIcon","heroicons_solid:lock-closed",1,"icon-size-5"],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"inline-flex","items-center","justify-between","w-full","mt-1.5"],[1,"-ml-2",3,"color","formControlName"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6","bg-yellow-400","text-white","text-xl",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-col","place-items-center","mt-8"],[1,"text-md","font-medium","text-500","underline",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(o,i){if(1&o){const r=e.EpF();e.TgZ(0,"section",0),e._UZ(1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e._UZ(6,"img",6),e.qZA()(),e.TgZ(7,"div",7)(8,"div"),e._uU(9,"Bienvenue \xe0 WindRH"),e.qZA()(),e.TgZ(10,"div",4)(11,"a",5),e._UZ(12,"img",8),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div")(16,"a",11),e._uU(17,"Retour "),e.qZA()(),e.TgZ(18,"div")(19,"div"),e._UZ(20,"languages"),e.qZA()()(),e.TgZ(21,"div",12),e._uU(22,"Connectez-vous \xe0 votre compte "),e.qZA(),e.TgZ(23,"div",13)(24,"div"),e._uU(25,"Vous n'avez pas de compte ?"),e.qZA(),e.TgZ(26,"a",14),e._uU(27,"Inscrivez-vous "),e.qZA()(),e.TgZ(28,"form",15,16)(30,"mat-form-field",17)(31,"mat-label"),e._uU(32,"Email"),e.qZA(),e._UZ(33,"input",18)(34,"mat-icon",19),e.YNc(35,F,2,0,"mat-error",20),e.YNc(36,J,2,0,"mat-error",20),e.qZA(),e.TgZ(37,"mat-form-field",17)(38,"mat-label"),e._uU(39,"Mot de passe"),e.qZA(),e._UZ(40,"input",21,22)(42,"mat-icon",23),e.TgZ(43,"button",24),e.NdJ("click",function(){e.CHM(r);const g=e.MAs(41);return e.KtG(g.type="password"===g.type?"text":"password")}),e.YNc(44,N,1,1,"mat-icon",25),e.YNc(45,Q,1,1,"mat-icon",25),e.qZA(),e.TgZ(46,"mat-error"),e._uU(47," Password is required "),e.qZA()(),e.TgZ(48,"div",26)(49,"mat-checkbox",27),e._uU(50," Se souvenir de moi "),e.qZA()(),e.TgZ(51,"button",28),e.NdJ("click",function(){return i.signIn()}),e.YNc(52,M,2,0,"span",20),e.YNc(53,R,1,2,"mat-progress-spinner",29),e.qZA(),e.TgZ(54,"div",30)(55,"a",31),e._uU(56,"Mot de passe oubli\xe9 ? "),e.qZA()()()()()()}if(2&o){const r=e.MAs(41);e.xp6(16),e.Q6J("routerLink",e.DdM(16,w)),e.xp6(10),e.Q6J("routerLink",e.DdM(17,L)),e.xp6(2),e.Q6J("formGroup",i.signInForm),e.xp6(5),e.Q6J("formControlName","username"),e.xp6(2),e.Q6J("ngIf",i.signInForm.get("username").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.signInForm.get("username").hasError("username")),e.xp6(4),e.Q6J("formControlName","password"),e.xp6(4),e.Q6J("ngIf","password"===r.type),e.xp6(1),e.Q6J("ngIf","text"===r.type),e.xp6(4),e.Q6J("color","primary")("formControlName","rememberMe"),e.xp6(2),e.Q6J("color","primary")("disabled",i.signInForm.disabled),e.xp6(1),e.Q6J("ngIf",!i.signInForm.disabled),e.xp6(1),e.Q6J("ngIf",i.signInForm.disabled),e.xp6(2),e.Q6J("routerLink",e.DdM(18,E))}},dependencies:[u.rH,d.lW,d.RK,f.oG,a.KE,a.hX,a.TO,a.qo,a.R9,h.Hw,v.Nt,I.Ou,C.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,S.v],encapsulation:2,data:{animation:y.L}});const Y=[{path:"",component:l}];var z=n(48768),q=n(99835);class m{}m.\u0275fac=function(o){return new(o||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[u.Bz.forChild(Y),d.ot,f.p9,a.lN,h.Ps,v.c,I.Cq,x.J,Z.fC,A.m,z.XF,q.y]})}}]);